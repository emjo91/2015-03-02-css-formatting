/*!CK:2141046487!*//*1424697931,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["2qyvN"]); }

__d("TimelinePageLoadParam",[],function(a,b,c,d,e,f){e.exports={REQUEST_PARAM_NAME:"tipld",LAST_RANKED_UNIT_TIME:"rt",REPORT_UNIT_COUNT:"rc",STORY_UNIT_COUNT:"sc",VISIBLE_UNIT_COUNT:"vc"};},null);
__d("TimelineScrubberKey",[],function(a,b,c,d,e,f){e.exports={MEMORIES:"memories",MONTH:"month",RECENT_ACTIVITY:"recent",WAY_BACK:"way_back",YEAR:"year"};},null);
__d("ComposerXEmptyAttachment",["ComposerXAttachment"],function(a,b,c,d,e,f,g){for(var h in g)if(g.hasOwnProperty(h))j[h]=g[h];var i=g===null?null:g.prototype;j.prototype=Object.create(i);j.prototype.constructor=j;j.__superConstructor__=g;function j(k,l){"use strict";g.call(this);this._root=k;if(l)this.attachmentClassName=l;}j.prototype.getRoot=function(){"use strict";return this._root;};e.exports=j;},null);
__d("ComposerXDatepickerIconReset",["CSS","cx"],function(a,b,c,d,e,f,g,h){function i(j){g.removeClass(j.element,"_4_na");g.removeClass(j.element,"_509o");}e.exports=i;},null);
__d("onViewportChanged",["EventListener","emptyFunction","getViewportDimensions","requestAnimationFrame"],function(a,b,c,d,e,f,g,h,i,j){var k=[],l=false,m=null,n,o;function p(){var aa=i.withoutScrollbars();return {top:0,bottom:aa.height,left:0,right:aa.width};}function q(aa,ba){var ca={transform:ba||h.thatReturnsArgument,callback:aa,needsUpdate:true};k.push(ca);x();s();return {remove:r.bind(null,ca),scheduleCheck:v.bind(null,ca)};}function r(aa){var ba=k.indexOf(aa);if(ba!==-1){k.splice(ba,1);if(k.length===0){t();m=null;}}}function s(){if(!o){o=g.listen(window,'scroll',w);n=g.listen(window,'resize',u);}}function t(){if(o){o.remove();n.remove();o=n=null;}}function u(){m=null;w();}function v(aa){aa.needsUpdate=true;x();}function w(){k.map(function(aa){return aa.needsUpdate=true;});x();}function x(){if(!l){l=true;j(function(){l=false;z();});}}function y(aa){if(aa.needsUpdate){aa.needsUpdate=false;return true;}return false;}function z(){if(!m)m=p();var aa=k.filter(y),ba=aa.map(function(ca){return ca.transform.call(null,m);});aa.forEach(function(ca,da){return ca.callback.call(null,ba[da]);});}e.exports=q;},null);
__d("onRectIsWithinViewport",["onViewportChanged"],function(a,b,c,d,e,f,g){function h(j,k){return !(j.bottom<k.top||j.top>k.bottom||j.right<k.left||j.left>k.right);}function i(j,k){var l;function m(o){var p=j();return !!p&&h(p,o);}function n(o){if(l!==o){l=o;k(o);}}return g(n,m);}e.exports=i;},null);
__d("OnVisible.react",["React","getElementRect","onRectIsWithinViewport","onlyChild"],function(a,b,c,d,e,f,g,h,i,j){var k=g.createClass({displayName:"OnVisible",propTypes:{onVisible:g.PropTypes.func,onHidden:g.PropTypes.func,buffer:g.PropTypes.number},componentDidMount:function(){this._createListener();},componentDidUpdate:function(){this._createListener();},componentWillUnmount:function(){this._removeListener();},reset:function(){this._removeListener();this._createListener();},check:function(){if(this._listener)this._listener.scheduleCheck();},_measureElementRect:function(){if(!this.isMounted())return null;var l=this.props.buffer||0,m=h(this.getDOMNode());m.left-=l;m.right+=l;m.top-=l;m.bottom+=l;return m;},_createListener:function(){var l=this.getDOMNode();if(this._listener&&l!==this._element)this._removeListener();if(!this._listener){this._element=l;this._listener=i(this._measureElementRect,function(m){var n=m?this.props.onVisible:this.props.onHidden;n&&n();}.bind(this));}},_removeListener:function(){if(this._listener){this._listener.remove();this._listener=null;}},render:function(){return j(this.props.children);}});e.exports=k;},null);
__d("EventImpressionLogger.react",["Arbiter","React","OnVisible.react","DOMContainer.react","AsyncRequest","XEventImpressionLoggerAsyncController"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=h.createClass({displayName:"EventImpressionLogger",propTypes:{child:h.PropTypes.object.isRequired,event_id:h.PropTypes.number.isRequired,action_context:h.PropTypes.object.isRequired,start_signal:h.PropTypes.string,stop_signal:h.PropTypes.string,check_signal:h.PropTypes.string},componentDidMount:function(){this._listening=!this.props.start_signal;if(this.props.start_signal)g.subscribe(this.props.start_signal,function(n,o){this._signalData=o;this._listening=true;if(this._signalData){this._logImpression();}else if(!this.logged){this.refs.onvisible.reset();this.refs.onvisible.check();}}.bind(this));if(this.props.stop_signal)g.subscribe(this.props.stop_signal,function(){this._signalData=null;this._listening=false;}.bind(this));if(this.props.check_signal)g.subscribe(this.props.check_signal,function(n,o){this._signalData=o;if(this._signalData){this._logImpression();}else if(!this.logged){this.refs.onvisible.reset();this.refs.onvisible.check();}}.bind(this));},_logImpression:function(){if(!this._listening)return;if(this.logged)return;if(!document.documentElement.contains(this.props.child))return;if(this._signalData&&this._signalData.rect){var n=this.props.child.getBoundingClientRect(),o=this._signalData.rect,p=0;if(this._signalData.scrollTop)p=this._signalData.scrollTop;if(o.left&&o.left>n.left)return;if(o.right&&o.right<n.right)return;if(o.top&&o.top>n.top-p)return;if(o.bottom&&o.bottom<n.bottom-p)return;}this.logged=true;var q=l.getURIBuilder().setInt('eventid',this.props.event_id).setStringToStringMap('acontext',this.props.action_context).getURI();new k(q).send();},render:function(){return (h.createElement(i,{onVisible:this._logImpression,ref:"onvisible"},h.createElement(j,null,this.props.child)));}});e.exports=m;},null);
__d("SubscriptionLevels",[],function(a,b,c,d,e,f){var g={ALL:'162318810514679',DEFAULT:'271670892858696',TOP:'266156873403755'};e.exports=g;},null);
__d("EditSubscriptions",["Arbiter","AsyncRequest","CSS","DOM","Event","FeedBlacklistButton","MenuDeprecated","Parent","SubscriptionLevels","arrayContains","cx","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s=45,t=[o.ALL,o.DEFAULT,o.TOP],u={},v={},w={},x={},y={},z={},aa={},ba={},ca={},da={},ea={},fa="/ajax/follow/follow_profile.php",ga="/ajax/follow/unfollow_profile.php",ha="/ajax/settings/notifications/notify_me.php",ia={},ja={},ka={},la=null,ma=false,na={};function oa(mb){return p(t,mb);}function pa(mb,nb,ob,pb){var qb=n.byClass(pb,'uiMenuItem')||n.byClass(pb,"_54ni"),rb=j.getID(mb);if(!qb||!j.contains(mb,qb)){return;}else if(i.hasClass(qb,'SubscribeMenuSubscribeCheckbox')){if(w[nb]){ua(rb,nb);}else ta(rb,nb);return false;}else if(i.hasClass(qb,'SubscribeMenuUnsubscribe')){ua(rb,nb);return false;}else if(i.hasClass(qb,'SubscribeMenuSettingsItem')){gb(mb,true);return false;}else if(i.hasClass(qb,'SubscriptionMenuGoBack')){gb(mb,false);return false;}else if(i.hasClass(qb,'SubscriptionMenuItem')){ra(mb,nb,ob,qb);return false;}else if(i.hasClass(qb,'SubscribeMenuNotifyMeCheckbox')){qa(mb,nb);return false;}}function qa(mb,nb){if(x[nb]){kb(mb,nb);}else jb(mb,nb);}function ra(mb,nb,ob,pb){if(i.hasClass(pb,'SubscriptionMenuLevel')){if(m.isItemChecked(pb))return;eb(mb,nb,xa(pb),true,ob);}else if(i.hasClass(pb,'SubscriptionMenuCategory')){bb(nb,pb,!m.isItemChecked(pb),true,ob);}else if(i.hasClass(pb,'SubscriptionAppStory'))db(nb,pb,!m.isItemChecked(pb),ob);}function sa(mb){return na[mb]?na[mb]:0;}function ta(mb,nb){var ob={profile_id:nb};g.inform('FollowingUser',ob);g.inform(l.UNBLACKLIST,ob);new h().setURI(fa).setMethod('POST').setData({profile_id:nb,location:sa(mb)}).setErrorHandler(g.inform.bind(null,'FollowUserFail',ob)).send();}function ua(mb,nb){var ob={profile_id:nb};g.inform('UnfollowingUser',ob);g.inform(l.BLACKLIST,ob);new h().setURI(ga).setMethod('POST').setData({profile_id:nb,location:sa(mb)}).setErrorHandler(g.inform.bind(null,'UnfollowUserFail',ob)).send();}function va(mb,nb,ob){var pb={profile_id:mb,level:ba[mb],custom_categories:ca[mb],location:ob};new h().setURI('/ajax/follow/manage_subscriptions.php').setData(pb).send();}function wa(mb,nb){var ob=ca[nb]||[],pb=m.getItems(mb);pb.forEach(function(qb){if(i.hasClass(qb,'SubscriptionMenuCategory')){var rb=xa(qb);if(p(ob,rb)){za(qb);}else ab(qb);}else if(i.hasClass(qb,'SubscriptionAppStory')){var sb=xa(qb);if(ka[nb]&&ka[nb][sb]){za(qb);}else ab(qb);}});eb(mb,nb,ba[nb],false);}function xa(mb){var nb=j.scry(mb,'input')[0];return nb&&nb.value;}function ya(mb){return j.find(mb,'a.itemAnchor');}function za(mb){i.addClass(mb,'checked');ya(mb).setAttribute('aria-checked',true);}function ab(mb){i.removeClass(mb,'checked');ya(mb).setAttribute('aria-checked',false);}function bb(mb,nb,ob,pb,qb){if(ob){za(nb);}else ab(nb);var rb=xa(nb);if(oa(rb)){ob&&cb(mb,rb);}else if(ob){if(!p(ca[mb],rb))ca[mb].push(rb);}else{var sb=ca[mb].indexOf(rb);if(sb!==-1)ca[mb].splice(sb,1);}if(pb)va(mb,rb,qb);}function cb(mb,nb){ba[mb]=nb;g.inform('SubscriptionLevelUpdated',{profile_id:mb,level:nb});}function db(mb,nb,ob,pb){var qb='/ajax/feed/filter_action/',rb=xa(nb),sb={actor_id:mb,app_id:rb};if(ob){za(nb);qb+='resubscribe_user_app/';sb.action='resubscribe_user_app';if(!ka[mb])ka[mb]={};ka[mb][rb]=true;}else{ab(nb);qb+='unsubscribe_user_app_checkbox/';sb.action='unsubscribe_user_app_checkbox';if(ka[mb])ka[mb][rb]=false;}new h().setURI(qb).setData(sb).send();}function eb(mb,nb,ob,pb,qb){var rb=j.scry(mb,'.SubscriptionMenuLevel'),sb=null;rb.forEach(function(tb){if(xa(tb)==ob){sb=tb;}else if(m.isItemChecked(tb))bb(nb,tb,false,false);});sb&&bb(nb,sb,true,pb,qb);}function fb(mb,nb,ob){w[nb]=ob;i.conditionClass(mb,'isUnsubscribed',!ob);var pb=j.scry(mb,'li.SubscribeMenuSubscribeCheckbox');if(pb.length!==0){var qb=pb[0];if(ob){za(qb);}else ab(qb);}}function gb(mb,nb){i.conditionClass(mb,'subscriptionMenuOpen',nb);}function hb(mb,nb,ob){var pb=j.find(mb,".FriendListSubscriptionsMenu"),qb=j.find(pb,".uiMenuInner");if(la!=null)la.forEach(function(rb){qb.removeChild(rb);});ob.forEach(function(rb){qb.appendChild(rb);});la=ob;}g.subscribe('UnfollowUser',function(mb,nb){if(da[nb.profile_id]){cb(nb.profile_id,da[nb.profile_id]);ca[nb.profile_id]=ea[nb.profile_id].slice();}});g.subscribe('UpdateSubscriptionLevel',function(mb,nb){var ob=nb.profile_id+'',pb=nb.level+'';cb(ob,pb);var qb;for(qb in u)if(u[qb]===ob){var rb=r(qb);rb&&eb(rb,ob,pb,false);}});g.subscribe('listeditor/close_editor',function(){var mb;for(mb in u){var nb=r(mb);nb&&gb(nb,false);}});function ib(mb,nb,ob){x[nb]=ob;var pb=ja[nb];if(pb){if(ob){pb.select();}else pb.deselect();return;}var qb=z[nb]&&!ma,rb=j.scry(mb,'li.SubscribeMenuNotifyMeCheckbox');if(rb.length!==0){var sb=rb[0];i.conditionShow(sb,!qb);var tb=j.scry(mb,'li.SubscribeMenuNotifyMeCheckboxSeparator');if(tb.length>0)i.conditionShow(tb[0],!qb);if(ob){za(sb);}else ab(sb);}}function jb(mb,nb){var ob={profile_id:nb};g.inform('EnableNotifsForUser',ob);new h().setURI(ha).setMethod('POST').setData({notifier_id:nb,enable:true}).setErrorHandler(g.inform.bind(null,'EnableNotifsForUserFail',ob)).send();}function kb(mb,nb){var ob={profile_id:nb};g.inform('DisableNotifsForUser',ob);new h().setURI(ha).setMethod('POST').setData({notifier_id:nb,enable:false}).setErrorHandler(g.inform.bind(null,'DisableNotifsForUserFail',ob)).send();}var lb={init:function(mb,nb,ob){var pb=j.getID(mb);na[pb]=ob;if(!u[pb])k.listen(mb,'click',function(qb){return pa(mb,u[pb],ob,qb.getTarget());});if(ob===s&&ia[nb].length)hb(mb,nb,ia[nb]);if(ba[nb])wa(mb,nb);u[pb]=nb;i.conditionClass(mb,'NonFriendSubscriptionMenu',!v[nb]);i.conditionClass(mb,'cannotSubscribe',!y[nb]);i.conditionClass(mb,'noSubscriptionLevels',z[nb]&&!aa[nb]);i.conditionClass(mb,'noSubscribeCheckbox',!v[nb]&&!z[nb]);fb(mb,nb,w[nb]);ib(mb,nb,x[nb]);g.subscribe(['FollowUser','FollowingUser','UnfollowUserFail'],function(qb,rb){if(rb.profile_id==nb)fb(mb,nb,true);}.bind(this));g.subscribe(['UnfollowUser','UnfollowingUser','FollowUserFail'],function(qb,rb){if(rb.profile_id==nb){g.inform('SubMenu/Reset');fb(mb,nb,false);}}.bind(this));g.subscribe(['EnableNotifsForUser','DisableNotifsForUserFail'],function(qb,rb){if(rb.profile_id==nb)ib(mb,nb,true);}.bind(this));g.subscribe(['DisableNotifsForUser','EnableNotifsForUserFail'],function(qb,rb){if(rb.profile_id==nb)ib(mb,nb,false);}.bind(this));g.subscribe('listeditor/friend_lists_changed',function(qb,rb){if(rb.notify_state){var sb=rb.added_uid?rb.added_uid:rb.removed_uid;ib(mb,sb,rb.notify_state.is_notified);}}.bind(this));},getSubscriptions:function(mb){return {level:ba[mb],custom_categories:ca[mb]};},registerTimelineNotifySelector:function(mb,nb){var ob=mb.getInitialMenu(),pb=mb.getContentRoot();ob.forEachItem(function(qb){var rb=qb.getRoot();if(i.hasClass(rb,'SubscribeMenuNotifyMeCheckbox')){ja[nb]=qb;ib(pb,nb,x[nb]);}});ob.subscribe('itemclick',function(qb,rb){if(rb.item===ja[nb])qa(pb,nb);return true;});},setSubscriptions:function(mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb){cb(mb,sb+'');v[mb]=nb;w[mb]=ob;y[mb]=pb;z[mb]=qb;aa[mb]=rb;da[mb]=ub+'';ca[mb]=tb.map(String);ea[mb]=vb.map(String);ia[mb]=yb;x[mb]=wb;ma=xb;}};e.exports=a.EditSubscriptions||lb;},null);
__d("legacy:EditSubscriptions",["SubscriptionLevels","EditSubscriptions"],function(a,b,c,d){a.SubscriptionLevels=b('SubscriptionLevels');a.EditSubscriptions=b('EditSubscriptions');},3);
__d("DynamicFriendListEducation",["Event","Arbiter","AsyncRequest","Dialog","PageTransitions","arrayContains","createArrayFromMixed","removeFromArray"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o,p,q,r,s,t;function u(){q&&q.hide();r&&r.hide();}function v(y){n(p,y);u();s({accept_tag_education:true});}function w(){u();s({nux_cancel:true});}var x={init:function(y,z){o=y;p=m(z).map(String);k.registerHandler(function(){u();o=false;s=(void 0);p=[];});},showDialog:function(y,z,aa){if(o&&l(p,y)){u();h.inform('DynamicFriendListEducation/dialogOpen',{uid:z,flid:y});s=aa;q=new j().setAsync(new i('/ajax/friends/lists/smart_list_education.php').setMethod('GET').setData({flid:y,uid:z}).setReadOnly(true)).setHandler(v.bind(this,y)).setCloseHandler(function(){h.inform('DynamicFriendListEducation/dialogClosed',{uid:z,flid:y});}).setCancelHandler(function(){h.inform('DynamicFriendListEducation/dialogCancel',{uid:z,flid:y});}).show();}else aa();},showContextualDialog:function(y,z,aa,ba){if(o&&l(p,y)){u();t=aa;s=ba;new i('/ajax/friends/lists/smart_list_contextual_education.php').setMethod('GET').setData({flid:y,uid:z}).setReadOnly(true).send();}else ba();},setContextualDialog:function(y,z,aa,ba){r=y;r.setContext(t);r.show();g.listen(z,'click',v.bind(this,ba));g.listen(aa,'click',w);}};e.exports=x;},null);
__d("FriendStatus",["Arbiter","AsyncRequest","SubscribeButton","arrayContains","copyProperties","createArrayFromMixed","forEachObject"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(r,s,t){this.id=r;this.update(s,t);}k(n.prototype,{update:function(r,s){r&&(this.status=r);if(s){this.lists=l(s).map(String);this._informListChange();}},isComplete:function(){return !!this.lists;},addToList:function(r){if(this.lists&&!j(this.lists,r))this.lists.push(r);this._informListChange();},removeFromList:function(r){if(this.lists){var s=this.lists.indexOf(r);s!==-1&&this.lists.splice(s,1);}this._informListChange();},updateList:function(r,s){s?this.addToList(r):this.removeFromList(r);},_informListChange:function(){g.inform('FriendListMembershipChange',{uid:this.id,lists:this.lists});}});k(n,{ARE_FRIENDS:1,INCOMING_REQUEST:2,OUTGOING_REQUEST:3,CAN_REQUEST:4});var o={},p={};function q(r,s,t){if(!o[t.uid]){o[t.uid]=new n(t.uid,r);}else o[t.uid].update(r);g.inform('FriendRequest/change',{uid:t.uid,status:r});}g.subscribe(['FriendRequest/cancel','FriendRequest/unfriend'],function(r,s){s.profile_id=s.uid;s.connected=false;g.inform(i.UNSUBSCRIBED,s);});g.subscribe(['FriendRequest/cancel','FriendRequest/unfriend','FriendRequest/sendFail'],q.bind(null,n.CAN_REQUEST));g.subscribe(['FriendRequest/confirmFail'],q.bind(null,n.INCOMING_REQUEST));g.subscribe(['FriendRequest/cancelFail','FriendRequest/sent','FriendRequest/sending'],q.bind(null,n.OUTGOING_REQUEST));g.subscribe(['FriendRequest/confirm','FriendRequest/confirming'],q.bind(null,n.ARE_FRIENDS));k(n,{CLOSE_FRIENDS:null,ACQUAINTANCES:null,getFriend:function(r,s){if(o[r]&&o[r].isComplete()){s(o[r]);}else if(p[r]){p[r].push(s);}else{p[r]=[s];new h().setURI("/ajax/friends/status.php").setData({friend:r}).setHandler(function(t){var u=t.getPayload();setTimeout(n.initFriend.bind(n,r,u.status,u.lists),0);}).send();}},initFriend:function(r,s,t){var u=o[r]||new n(r);u.update(u.status||s,u.lists||t);o[r]=u;p[r]&&p[r].forEach(function(v){v(u);});p[r]=null;},setSpecialLists:function(r){var s=n.CLOSE_FRIENDS===null;n.CLOSE_FRIENDS=r.close+'';n.ACQUAINTANCES=r.acq+'';if(s)m(o,function(t,u){t._informListChange();});}});e.exports=n;},null);
__d("FriendEditLists",["Arbiter","AsyncRequest","CSS","DOMQuery","DynamicFriendListEducation","EditSubscriptions","Event","FriendStatus","MenuDeprecated","Parent","ScrollableArea","URI","$","arrayContains","copyProperties","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){var w=5,x={},y='/ajax/profile/removefriendconfirm.php',z='/ajax/friends/requests/cancel.php',aa='/ajax/choose/',ba='/profile.php',ca,da,ea,fa,ga=null,ha={profile_browser:43,fbx_top_bar:1,hovercard:5};function ia(ta,ua,va){var wa=x[ta.id],xa=function(ya){var za={action:va?'add_list':'del_list',to_friend:wa.id,friendlists:[ua],source:ca};if(ya)u(za,ya);wa.updateList(ua,va);var ab;if(va&&ua==n.CLOSE_FRIENDS){ab=la(ta,n.ACQUAINTANCES);if(o.isItemChecked(ab)){o.toggleItem(ab);ia(ta,n.ACQUAINTANCES,false);}}else if(va&&ua==n.ACQUAINTANCES){ab=la(ta,n.CLOSE_FRIENDS);if(o.isItemChecked(ab)){o.toggleItem(ab);ia(ta,n.CLOSE_FRIENDS,false);}}var bb={flid:ua,uid:wa.id},cb=va?'FriendListHovercard/add':'FriendListHovercard/remove';g.inform(cb,bb);new h().setURI('/ajax/add_friend/action.php').setData(za).send();};if(va){k.showDialog(ua,wa.id,xa);}else xa();}function ja(ta){var ua=j.scry(ta,'input')[0];return ua&&ua.value;}function ka(ta,ua,va){if(i.hasClass(va,'async_saving'))return;var wa={uid:ua.id};new h().setURI(z).setMethod('POST').setData({friend:ua.id,cancel_ref:ea,floc:fa}).setHandler(g.inform.bind(g,'FriendRequest/cancel',wa)).setErrorHandler(g.inform.bind(g,'FriendRequest/cancelFail',wa)).setStatusElement(va).send();}function la(ta,ua){var va=o.getItems(ta);for(var wa=0;wa<va.length;wa++)if(ja(va[wa])==ua)return va[wa];return null;}function ma(ta,ua){var va=o.getItems(ta);va.forEach(function(wa){var xa=ja(wa),ya=t(ua.lists,xa);if(o.isItemChecked(wa)!==ya)o.toggleItem(wa);});}function na(ta){var ua=o.getItems(ta),va=!i.hasClass(ta,'followButtonFlyout')&&!i.hasClass(ta,'likeButtonFlyout'),wa=[],xa=[],ya=0,za=0;ua.forEach(function(eb){if(i.hasClass(eb,'neverHide')){i.removeClass(eb,'underShowMore');ya++;}else if(o.isItemChecked(eb)){wa.push(eb);}else if(i.hasClass(eb,'neverShow')||i.hasClass(eb,'FriendListCreateTrigger')||(!va&&i.hasClass(eb,'friendOptionsOnly'))){i.addClass(eb,'underShowMore');za++;}else xa.push(eb);});var ab=w-ya,bb=wa.concat(xa),cb=za;bb.forEach(function(eb){if(i.hasClass(eb,'ShowMoreItem')){ab--;return;}if(ab){i.removeClass(eb,'underShowMore');ab--;}else{i.addClass(eb,'underShowMore');cb=true;}});i.conditionClass(ta,'hasMoreFriendListItems',cb);var db=j.scry(ta,'.FriendListMenuShowMore');db.forEach(function(eb){i.removeClass(eb,'FriendListMenuShowMore');});}function oa(ta,ua){i.conditionClass(ta,'FriendListMemorializedUser',ua);}function pa(ta,ua){i.conditionClass(ta,'FriendListCannotSuggestFriends',!ua);}function qa(ta,ua){var va=j.scry(ta,'.FriendListUnfriend')[0],wa=j.scry(ta,'.FriendListCancel')[0],xa=j.scry(ta,'.FriendListSuggestFriends')[0],ya=j.scry(ta,'.FriendListFriendship')[0];if(wa)i.conditionShow(wa,ua.status==n.OUTGOING_REQUEST);if(va){i.conditionShow(va,ua.status==n.ARE_FRIENDS);var za=j.find(va,'a');za.setAttribute('ajaxify',r(y).addQueryData({uid:ua.id,unref:da,floc:fa}).toString());if(!ga)ga=m.listen(za,'click',function(ab){var bb=p.byClass(ab.getTarget(),'FriendListUnfriend');if(!bb)return;var cb=r(j.find(bb,'a').getAttribute('ajaxify')).getQueryData();});}else i.conditionClass(ta,'NoFriendListActionSeparator',!wa||ua.status!=n.OUTGOING_REQUEST);if(xa)j.find(xa,'a').setAttribute('href',r(aa).addQueryData({type:'suggest_friends',newcomer:ua.id,ref:'profile_others_dropdown'}).toString());if(ya){i.conditionShow(ya,ua.status==n.ARE_FRIENDS);j.find(ya,'a').setAttribute('href',r(ba).addQueryData({and:ua.id}).toString());}}function ra(ta,ua,va){var wa=j.scry(ta,'div.FriendListSubscriptionsMenu');if(wa.length!==0)l.init(ta,ua,va);}g.subscribe('FriendRequest/change',function(ta,ua){for(var va in x){var wa=v(va),xa=x[va];if(wa&&xa&&xa.id==ua.uid){ma(wa,xa);qa(wa,xa);na(wa);}}});o.subscribe('select',function(ta,ua){if(i.hasClass(ua.item,'ShowMoreItem')&&i.hasClass(ua.menu,'FriendListMenu')){i.addClass(ua.menu,'FriendListMenuShowMore');q.poke(ua.item);}});var sa={init:function(ta,ua,va,wa,xa,ya,za,ab){ta=s(ta);ca=va;da=ya;ea=za;fa=ab;var bb=ha[va]||45;if(!x[ta.id])o.subscribe('select',function(cb,db){if(j.contains(ta,db.item))if(p.byClass(db.item,'FriendListItem')){o.toggleItem(db.item);var eb=ja(db.item);ia(ta,eb,o.isItemChecked(db.item));}else if(p.byClass(db.item,'FriendListCancel')){ka(ta,x[ta.id],db.item);}else if(p.byClass(db.item,'FriendListUnfriend'))g.inform('FriendEditLists/unfriend');});i.addClass(ta,'async_saving');n.getFriend(ua,function(cb){oa(ta,wa);pa(ta,xa);ma(ta,cb);qa(ta,cb);x[ta.id]=cb;na(ta);ra(ta,ua,bb);i.removeClass(ta,'async_saving');}.bind(this));}};e.exports=a.FriendEditLists||sa;},null);
__d("FriendListFlyoutController",["Event","Arbiter","AsyncRequest","Button","ContextualLayer","CSS","DataStore","Dialog","DOM","DOMQuery","FriendEditLists","FriendStatus","Keys","Layer","LayerHideOnEscape","LayerTabIsolation","MenuDeprecated","Parent","ScrollableArea","Style","TabbableElements","UserAgent_DEPRECATED","cx","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da){var ea,fa,ga,ha=null,ia=null,ja,ka,la,ma,na,oa,pa=1500,qa,ra=false,sa=['uiButtonConfirm','uiButtonSpecial',"_42gz","_42g-","_4jy2","_51tl","_4jy1"],ta={init:function(xb,yb){ta.init=da;ea=xb;ea.subscribe('mouseenter',cb);ea.subscribe('mouseleave',function(){if(!ra)sb();});ea.subscribe('hide',eb);ea.enableBehavior(v);ea.enableBehavior(u);qa=yb;if(ha)o.setContent(ea.getContent(),[ha,ia]);var zb=function(bc){var cc=x.byClass(bc.getTarget(),'enableFriendListFlyout');if(cc){ra=true;if(ja!==cc){ga&&ub();rb(cc);}}else if(ra)ub();},ac=function(bc){var cc=x.byClass(bc.getTarget(),'enableFriendListFlyout');if(cc)if(ja===cc){clearTimeout(ma);}else{ga&&ub();rb(cc);}};g.listen(document.documentElement,{click:zb,mouseover:ac,keydown:function(event){var bc=event.getTarget();if(event.getModifiers().any)return;if(!ga||p.isNodeOfType(bc,['input','textarea']))return;var cc=g.getKeyCode(event),dc;switch(cc){case s.UP:case s.DOWN:var ec=bb();dc=za(ec);xa(ec[dc+(cc===s.UP?-1:1)]);return false;case s.SPACE:var fc=ya(bc);if(fc){ua(fc);event.prevent();}break;default:var gc=String.fromCharCode(cc).toLowerCase(),hc=bb();dc=za(hc);var ic=dc,jc=hc.length;while((~dc&&(ic=++ic%jc)!==dc)||(!~dc&&++ic<jc)){var kc=w.getItemLabel(hc[ic]);if(kc&&kc.charAt(0).toLowerCase()===gc){xa(hc[ic]);return false;}}}}});h.subscribe('FriendEditLists/unfriend',ub);h.subscribe('FriendRequest/cancel',ub);h.subscribe('DynamicFriendListEducation/dialogOpen',function(){oa=true;});h.subscribe('DynamicFriendListEducation/dialogClosed',function(){oa=false;sb();});},initContent:function(xb){o.appendContent(document.body,xb);fb(xb);setTimeout(function(){if(!ha){ha=xb;ea&&o.setContent(ea.getContent(),[ha,ia]);l.show(ha);g.listen(ha,'click',vb);ga&&ob(ja);}else{o.remove(xb);xb=null;}},0);},initNux:function(xb){if(ia)return;ia=xb;ea&&o.setContent(ea.getContent(),[ha,ia]);},show:function(xb){pb(xb);},hide:function(xb){xb===false?ub():sb();},setActiveNode:function(xb){ga&&ub();ja=xb;ka=g.listen(xb,'mouseleave',function(){ja=null;ka&&ka.remove();});},setCloseListener:function(xb,yb){m.set(xb,'flfcloselistener',yb);if(ja!=xb)m.set(xb,'flfcloselistenertimeout',setTimeout(wb.bind(null,xb),pa));},setCloseListenerTimeout:function(xb){pa=xb;}};function ua(xb){ba.firefox()&&wa(xb).blur();w.inform('select',{menu:va(xb),item:xb});}function va(xb){if(l.hasClass(xb,'uiMenuContainer'))return xb;return x.byClass(xb,'uiMenu');}function wa(xb){return p.find(xb,'a.itemAnchor');}function xa(xb){if(xb&&ab(xb)){w._removeSelected(ea.getContent());l.addClass(xb,'selected');wa(xb).focus();}}function ya(xb){return x.byClass(xb,'uiMenuItem');}function za(xb){if(document.activeElement){var yb=ya(document.activeElement);return xb.indexOf(yb);}return -1;}function ab(xb){return !l.hasClass(xb,'disabled')&&z.get(xb,'display')!=='none'&&z.get(x.byClass(xb,'uiMenu'),'display')!=='none';}function bb(){return w.getItems(ea.getContent()).filter(ab);}function cb(){clearTimeout(ma);}function db(xb){for(var yb=0;yb<sa.length;yb++)if(l.hasClass(xb,sa[yb]))return false;return true;}function eb(){if(ja){if(db(ja)){l.removeClass(ja,"_52nd");if(l.hasClass(ja,'uiButton')||l.hasClass(ja,"_42fu"))l.removeClass(ja,'selected');}if(m.get(ja,'flfcloselistener')){var xb=ja;m.set(ja,'flfcloselistenertimeout',setTimeout(wb.bind(null,xb),pa));}}ga=false;nb();ja=null;}function fb(xb){var yb=p.scry(xb,'[tabindex="0"]');yb.forEach(function(zb){zb.tabIndex='-1';});yb[0]&&(yb[0].tabIndex='0');}function gb(xb){if(p.isNodeOfType(xb,'label')&&l.hasClass(xb,'uiButton'))xb=j.getInputElement(xb);return xb;}function hb(xb){return m.get(gb(xb),'profileid');}function ib(xb){return m.get(gb(xb),'memorialized')==='true';}function jb(xb){return m.get(gb(xb),'cansuggestfriends')==='true';}function kb(xb){return m.get(gb(xb),'unref');}function lb(xb){return m.get(gb(xb),'cancelref');}function mb(xb){return m.get(gb(xb),'floc');}function nb(){ka&&ka.remove();ka=null;na&&t.unsubscribe(na);na=null;ma&&clearTimeout(ma);ma=null;}function ob(xb){var yb=hb(xb),zb=ib(xb),ac=jb(xb),bc=m.get(xb,'flloc'),cc=kb(xb),dc=lb(xb),ec=mb(xb);q.init(ha,yb,bc,zb,ac,cc,dc,ec);l.conditionClass(ha,'followButtonFlyout',l.hasClass(xb,'profileFollowButton'));l.conditionClass(ha,'friendButtonFlyout',l.hasClass(xb,'FriendRequestFriends')||l.hasClass(xb,'FriendRequestIncoming')||l.hasClass(xb,'FriendRequestOutgoing'));l.conditionClass(ha,'likeButtonFlyout',l.hasClass(xb,'profileLikeButton'));var fc=p.scry(ha,'div.uiScrollableArea')[0];fc&&y.poke(fc);var gc=aa.find(ha)[0];gc&&gc.focus();}function pb(xb){if(!ea||ga)return;ea.setContext(xb);ea.setCausalElement(xb);xb.setAttribute('aria-expanded','true');if(db(xb)){l.addClass(xb,"_52nd");if(l.hasClass(xb,'uiButton')||l.hasClass(xb,"_42fu"))l.addClass(xb,'selected');}ea.show();ja=xb;ga=true;var yb=null;if(ha){yb='show';ob(xb);}else{yb='init_show';new i().setURI('/ajax/friends/lists/flyout_content.php').setStatusElement(ea.getContent()).send();}nb();ka=g.listen(xb,'mouseleave',sb);na=t.subscribe('show',qb);if(m.get(xb,'flfcloselistener'))clearTimeout(m.remove(xb,'flfcloselistenertimeout'));var zb=hb(xb);r.getFriend(zb,function(ac){if(ac.status==r.ARE_FRIENDS)new i().setURI('/ajax/friends/lists/flyout_log.php').setData({target_id:hb(xb),unref:kb(xb),action:yb}).send();if(!ia)return;if(ac.status==r.OUTGOING_REQUEST){l.show(ia);i.bootstrap('/ajax/friends/lists/nux_flyout.php',null,true);}else l.hide(ia);});if(!fa||xb.id!==fa.id){h.inform('listeditor/close_editor');h.inform('friend-list/close_editor');}fa=xb;}function qb(xb,yb){if(!(yb instanceof k)||!p.contains(ja,yb.getContext()))sb();}function rb(xb){ja=xb;la=setTimeout(pb.bind(null,xb),qa);ka=g.listen(xb,'mouseleave',function(){clearTimeout(la);ja=null;ka&&ka.remove();});}function sb(){ma=setTimeout(ub,150);}function tb(){var xb=n.getCurrent(),yb=xb&&xb.getBody();return !!(yb&&p.scry(yb,'.friendListDialogTourCarousel')[0]);}function ub(){if(oa||tb())return;ra=false;if(ea){ea.hide();var xb=ea.getCausalElement();xb&&xb.setAttribute('aria-expanded','false');}}function vb(event){var xb=x.byTag(event.getTarget(),'a');if(xb&&l.hasClass(xb,'FriendListActionItem'))sb();}function wb(xb){var yb=m.remove(xb,'flfcloselistener');yb&&yb();}e.exports=a.FriendListFlyoutController||ta;},null);
__d("SubscriptionFlyoutController",["Arbiter","CSS","DataStore","EditSubscriptions","Hovercard","HoverFlyout","$","cx","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=null,q,r,s,t=['uiButtonConfirm','uiButtonSpecial',"_42gz","_42g-","_4jy2","_51tl","_4jy1"];function u(y){for(var z=0;z<t.length;z++)if(h.hasClass(y,t[z]))return false;return true;}function v(y,z){s=i.get(z,'profile_id');var aa=i.get(z,'loc');j.init(r,s,aa);if(u(z)){h.addClass(z,"_52nd");if(h.hasClass(z,'uiButton')||h.hasClass(z,"_42fu"))h.addClass(z,'selected');}if(i.get(z,'onclose'))clearTimeout(i.remove(z,'onclosetimeout'));}function w(y,z){s=null;if(u(z)){h.removeClass(z,'uiButtonHover');if(h.hasClass(z,'uiButton')||h.hasClass(z,"_42fu"))h.removeClass(z,'selected');}if(i.get(z,'onclose'))i.set(z,'onclosetimeout',setTimeout(function(){var aa=i.remove(z,'onclose');aa&&aa();},1500));}var x={init:function(y,z){x.init=o;q=y;r=m(z);p=new l();p.init(y);p.setShowDelay(100).setHideDelay(150);p.subscribe('show',v);p.subscribe('hide',w);g.subscribe(['UnfollowUser','UnfollowingUser'],function(aa,ba){if(!ba.from_hide_flyout&&ba.profile_id==s){if(k.contains&&q)if(k.contains(q.getContext()))k.hide();p.hideFlyout(true);}});g.inform('SubscriptionFlyoutController/initialized',null,g.BEHAVIOR_PERSISTENT);},initNode:function(y,z,aa){i.set(y,'profile_id',z);i.set(y,'loc',aa);p.initNode(y);h.addClass(y,"_52nf");},setActiveNode:function(y){p.setActiveNode(y);},show:function(y){p.showFlyout(y,true);},setCloseListener:function(y,z){if(p.getActiveNode()!==y){z();}else i.set(y,'onclose',z);}};e.exports=a.SubscriptionFlyoutController||x;},null);
__d("FollowButton",["Event","Arbiter","AsyncRequest","Button","CSS","DOM","FriendListFlyoutController","SubscriptionFlyoutController","SubscriptionLevels","URI","copyProperties"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r=14;function s(w,x,y){k.conditionShow(x,y);k.conditionShow(w,!y);}function t(w,x){if(x&&k.hasClass(w,'enableFriendListFlyout')){m.show(w);}else m.hide();}function u(w,x,y){var z=l.scry(w,'.lowIcon')[0],aa=l.scry(w,'.medIcon')[0],ba=l.scry(w,'.highIcon')[0];if(!z||!aa||!ba)return;h.subscribe('SubscriptionLevelUpdated',function(ca,da){if(y===da.profile_id)switch(da.level){case o.ALL:j.setIcon(x,ba);break;case o.DEFAULT:j.setIcon(x,aa);break;case o.TOP:j.setIcon(x,z);break;}});}function v(w,x,y,z,aa,ba){this.init(w,x,y,z,aa,ba);}q(v.prototype,{init:function(w,x,y,z,aa,ba){h.subscribe('SubscriptionFlyoutController/initialized',this._init.bind(this,w,x,y,z,aa,ba));},_init:function(w,x,y,z,aa,ba){if(!k.hasClass(y,'enableFriendListFlyout'))n.initNode(y,z,aa);if(aa==r&&k.shown(y))n.show(y);g.listen(x,'click',function(){s(x,y,true);n.setActiveNode(y);var ea=new p(x.getAttribute('ajaxify')),fa={profile_id:z,location:aa,source:'follow-button',subscribed_button_id:y.id,xids:ea.getQueryData().xids};new i().setURI(ba).setData(fa).setRelativeTo(y).send();});w&&u(w,y,z);h.subscribe(['FollowUser','FollowingUser','UnfollowUser','UnfollowingUser'],function(ea,fa){if(fa.profile_id==z)s(x,y,ea=='FollowUser'||ea=='FollowingUser');t(y,ea=='FollowUser');});var ca=false;h.subscribe('UnfollowingUser',function(ea,fa){if(fa.profile_id==z){ca=k.shown(y);ca&&s(x,y,false);}});h.subscribe('UnfollowUserFail',function(ea,fa){if(fa.profile_id==z&&ca)s(x,y,true);});h.subscribe('FollowUserFail',function(ea,fa){if(fa.profile_id==z&&ca)s(x,y,false);});var da=false;h.subscribe(['FriendRequest/sending','FriendRequest/confirming'],function(ea,fa){if(fa.uid==z){da=k.shown(x);da&&s(x,y,true);}});h.subscribe(['FriendRequest/sendFail','FriendRequest/confirmFail'],function(ea,fa){if(fa.uid==z&&da)s(x,y,false);});h.subscribe('FriendRequest/unfriend',function(ea,fa){(fa.uid==z)&&s(x,y,false);});}});e.exports=a.FollowButton||v;},null);
__d("FollowLink",["Arbiter","CSS","ge"],function(a,b,c,d,e,f,g,h,i){var j={subscribeEvents:function(k,l,m){g.subscribe(['FollowUser','UnfollowUser'],function(event,n){if(n.profile_id!=k)return;var o=i(l),p=i(m),q=event=='FollowUser';o&&h.conditionShow(o,!q);p&&h.conditionShow(p,q);});}};e.exports=j;},null);
__d("AddFriendButton",["Event","Animation","Arbiter","AsyncRequest","AsyncResponse","collectDataAttributes","CSS","DOMQuery","FriendListFlyoutController","FriendStatus","ge","goURI","Style","SubscribeButton","URI","XPubcontentChainedSuggestionsController"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){var w={ERROR_ALREADY_ADDED:1431005,init:function(x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka){var la=x.id,ma=null,na=n.scry(x,'.addButton')[0],oa=n.scry(x,'.addFriendText')[0],pa=n.scry(x,'.outgoingButton')[0],qa=n.scry(x,'.incomingButton')[0],ra=n.scry(x,'.friendButton')[0];function sa(za,ab,bb){var cb=new u(na.getAttribute('ajaxify')),db=l(x,['ft','gt']);new j().setURI(ca).setData({to_friend:y,action:za,how_found:aa,ref_param:ba,link_data:db,outgoing_id:pa.id,xids:cb.getQueryData().xids,logging_location:da,no_flyout_on_click:ea,ego_log_data:fa,http_referer:ha,floc:ja,frefs:ka}).setErrorHandler(ab).setServerDialogCancelHandler(bb).setRelativeTo(pa).send();if(ia&&za==='add_friend'){var eb=(v.getURIBuilder()).setInt('friendid',y).getURI();new j().setURI(eb).send();}i.inform(t.SUBSCRIBED,{profile_id:y.toString(),conntected:true});}function ta(za,ab){if(oa){m.hide(oa);}else if(na)m.hide(na);pa&&m.hide(pa);qa&&m.hide(qa);ra&&m.hide(ra);if(za)m.show(za);if('Outgoing'==ab&&ma!=ab&&ga)new h(za).from('backgroundColor','#FFF8CC').to('backgroundColor','transparent').from('borderColor','#FFE222').to('borderColor',s.get(za,'borderLeftColor')).duration(2000).go();ma&&m.removeClass(x,'fStatus'+ma);ma=ab;m.addClass(x,'fStatus'+ab);}function ua(za){if(m.hasClass(za,'enableFriendListFlyout')){o.show(za);}else o.hide();}var va=i.subscribe('FriendRequest/change',function(za,ab){ya();if(ab.uid!=y)return;switch(ab.status){case p.ARE_FRIENDS:return ta(ra,'Friends');case p.INCOMING_REQUEST:return ta(qa,'Incoming');case p.OUTGOING_REQUEST:return ta(pa,'Outgoing');case p.CAN_REQUEST:return ta(oa?oa:na,'Requestable');}}),wa=i.subscribe('FriendRequest/unfriend',function(za,ab){ya();if(ab.uid===y&&ab.shouldHideButton===true)m.hide(na);}),xa;if(z)xa=i.subscribe('FriendRequest/confirm',function(za,ab){ya();ab.uid==y&&r(z);});na&&g.listen(na,'click',function(){i.inform('FriendRequest/sending',{uid:y});if(ea){o.setActiveNode(pa);}else ua(pa);sa("add_friend",function(za){var ab=za.error==w.ERROR_ALREADY_ADDED?'FriendRequest/sent':'FriendRequest/sendFail';i.inform(ab,{uid:y});o.hide();k.defaultErrorHandler(za);},function(za){i.inform('FriendRequest/sendFail',{uid:y});o.hide();});});function ya(){if(q(la))return;va&&va.unsubscribe();xa&&xa.unsubscribe();wa&&wa.unsubscribe();va=null;xa=null;wa=null;}}};e.exports=w;},null);
__d("legacy:DynamicFriendListEducation",["DynamicFriendListEducation"],function(a,b,c,d){a.DynamicFriendListEducation=b('DynamicFriendListEducation');},3);
__d("FriendButtonIcon",["Arbiter","FriendStatus","Button","arrayContains"],function(a,b,c,d,e,f,g,h,i,j){e.exports={register:function(k,l,m){g.subscribe('FriendListMembershipChange',function(n,o){if(o.uid==m){var p=j(o.lists,h.CLOSE_FRIENDS),q=j(o.lists,h.ACQUAINTANCES);if(p&&!q){i.setIcon(k,l.close);}else if(q&&!p){i.setIcon(k,l.acquaintance);}else i.setIcon(k,l.friend);}});}};},null);
__d("FriendListMenu",["Event","Arbiter","AsyncRequest","CSS","DOM","HTML","Focus","Input","Keys","MenuDeprecated","Parent"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r={init:function(s){p.register(s,false);var t=k.find(s,'.FriendListCreateTrigger'),u=k.find(s,'.CreateListInputItem'),v=k.find(u,'.createListInput');p.subscribe('select',function(w,x){if(x.item==t){j.addClass(s,'FriendListMenuCreate');m.set(v);}});g.listen(v,'blur',function(w){if(n.isEmpty(v))j.removeClass(s,'FriendListMenuCreate');});g.listen(v,'keydown',function(w){if(g.getKeyCode(w)==o.RETURN&&/[^\s]/.test(v.value))new i().setURI('/ajax/friends/lists/create.php').setData({name:v.value,id:s.id}).setHandler(function(){n.reset(v);j.removeClass(s,'FriendListMenuCreate');}).send();});h.subscribe('friend-list/new',function(w,x){var y=l(x.new_li).getRootNode();k.insertBefore(t,y);if(x.id===s.id){p.focusItem(y);p.inform('select',{menu:q.byClass(y,'uiMenu'),item:y});}else p.toggleItem(y);});h.subscribe('friend-list/close_editor',function(){var w=q.byClass(s,'FlyoutFriendMenu');j.removeClass(w,'addToListsOpen');j.addClass(w,'addToListsClosed');});},addToAnotherList:function(s,t){g.listen(s,'click',function(event){var u=q.byClass(s,'FlyoutFriendMenu');j.removeClass(u,'addToListsClosed');j.addClass(u,'addToListsOpen');});},goBack:function(s,t){g.listen(s,'click',function(event){var u=q.byClass(s,'FlyoutFriendMenu');j.removeClass(u,'addToListsOpen');j.addClass(u,'addToListsClosed');});}};e.exports=r;},null);
__d("RespondToRequestButton",["Arbiter","CSS"],function(a,b,c,d,e,f,g,h){e.exports.subscribeDelete=function(i,j,k){g.subscribe('CONNECTION_REQUEST',function(l,m){if(m.hidden&&m.id==i){h.hide(j);h.show(k);}});};},null);
__d("RestrictedFriendListEducation",["Arbiter","AsyncRequest"],function(a,b,c,d,e,f,g,h){var i,j;function k(m,n){if(n.flid==i)if(m=='FriendListHovercard/add'){if(j)return;j=true;new h().setURI('/ajax/friends/lists/restricted_edu.php').setData({target:n.uid,flid:n.flid}).send();}else if(m=='RestrictedListNUX/okay')new h().setURI('/ajax/friends/lists/nux_log.php').setData(n).send();return true;}var l={init:function(m){i=m;g.subscribe(['FriendListHovercard/add','RestrictedListNUX/okay'],k);}};e.exports=l;},null);
__d("legacy:FriendListRestrictedEducation",["RestrictedFriendListEducation"],function(a,b,c,d){a.RestrictedFriendListEducation=b('RestrictedFriendListEducation');},3);
__d("PymkXout",["Event","DOM","CSS","Arbiter"],function(a,b,c,d,e,f,g,h,i,j){var k={init:function(l,m,n){g.listen(m,'click',function(event){if(n==='pymk_jewel'){i.hide(l);}else h.remove(l);var o=event.getTarget().getAttribute('data-pymk-id');if(o)j.inform('x-out-pymk-suggestions',{id:o});});g.listen(l,'mouseover',function(){i.show(m);});g.listen(l,'mouseout',function(){i.hide(m);});}};e.exports=k;},null);
__d("EgoUnitClickHandler",["CSS","DOM","Event","csx","goURI"],function(a,b,c,d,e,f,g,h,i,j,k){var l={};l.stealHref=function(m){var n=h.find(m.parentNode,'a.ego_title');m.setAttribute('href',n.href);};l.register=function(m){i.listen(m,'click',function(n){var o=h.find(m,'a.ego_title');if(l.enabled&&o&&o.href)k(o.href);});i.listen(m,'mouseover',function(n){var o=h.find(m,'a.ego_title'),p=h.find(m,"a._8o .img"),q=n.getTarget(),r;if(q.tagName==='A'||q.tagName==='a'){r=q;}else{var s=h.scry(q,"^a");if(s.length===1)r=s[0];}if(r&&r.href!=o.href&&(!p||r.href!=p.href)){g.removeClass(o,'always_underlined');l.enabled=false;}else{g.addClass(o,'always_underlined');l.enabled=true;}});i.listen(m,'mouseout',function(n){var o=h.find(m,'a.ego_title');g.removeClass(o,'always_underlined');l.enabled=false;});};e.exports=l;},null);
__d("OGCollectionAddCuration",["AsyncRequest","DataStore","DOM","copyProperties","tidyEvent"],function(a,b,c,d,e,f,g,h,i,j,k){var l='OGCollectionAddCuration';function m(n,o,p,q,r,s){this._container=n;this._control=o;this._itemID=p;this._surface=r;this._display=s.display;if(o)k([o.subscribe('reload',this.reloadControl.bind(this))]);if(q)h.set(String(q),l,this);if(p)h.set(String(p),l,this);}j(m,{handleDeleteAction:function(n){var o=h.get(String(n),l);if(o)o.reloadControl();},handleAddItemSuccess:function(n,o,p){var q=h.get(String(n),l);h.set(String(o),l,q);q.insertMenuIntoDialog(p);},hideControl:function(n){var o=h.get(String(n),l);o.hideControl();},insertControl:function(n,o){var p=h.get(String(n),l);p.replaceControl(o);},reloadControl:function(n){var o=h.get(String(n),l);if(o)o.reloadControl();}});j(m.prototype,{hideControl:function(){this._control.hide();},reloadControl:function(){var n=new g('/ajax/collections/add_curation').setData({itemid:this._itemID,surface:this._surface,forceedit:true,display:this._display}).setHandler(this._handleAddCurationResponse.bind(this));n.send();},insertMenuIntoDialog:function(n){this._control.insertMenuIntoDialog(n);},replaceControl:function(n){i.replace(this._container,n);},getMenuControl:function(){return this._control;},_handleAddCurationResponse:function(n){this._control.destroy();i.replace(this._container,n.payload);}});e.exports=m;},null);
__d("OGCollectionAddObject",["AsyncRequest","CSS","DOM","DOMQuery","Form","JSLogger","Parent","TidyArbiterMixin","TimelineSection","copyProperties","csx","cx","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var t=l.create('og_collection_add_object'),u=p({ADD_PLACEHOLDER:'OGCollectionAddObject/addPlaceholder',NEW_ITEM:'OGCollectionAddObject/newItem',PLACEHOLDER:'OGCollectionAddObject/placeholder',REMOVE_PLACEHOLDER:'OGCollectionAddObject/removePlaceholder',init:function(v,w,x,y,z){o.callWithSection(z,function(aa){this.initImpl(v,w,x,y,aa.getNode(),z,aa.id);}.bind(this));},initInReport:function(v,w,x,y){var z=m.byClass(y,"_w8_");this.initImpl(v,w,x,y,z,null,null);},initImpl:function(v,w,x,y,z,aa,ba){var ca=j.scry(z,"._620")[0];if(!ca){t.error('grid_not_found',{collection_id:aa,section:ba,csx:'.public/fbTimelineCollectionGrid/root'});return;}w.subscribe('select',function(da,ea){if(!ea.selected.uid||ea.selected.type.indexOf('disabled')!=-1)return;u.inform(u.ADD_PLACEHOLDER,aa);var fa=ca.nextSibling,ga=null;if(fa&&h.hasClass(fa,"_3t3")){h.hide(ca.lastChild);ga=ca.lastChild;}var ha=i.prependContent(ca,x.cloneNode(true))[0];u.inform(u.PLACEHOLDER,{grid:ca});var ia=p({action:'add',mechanism:'typeahead'},k.serialize(y));ha.setAttribute('data-item',ia.item_id);new g().setURI(v).setData(ia).setRelativeTo(ca).setErrorHandler(function(ja){i.remove(ha);u.inform(u.REMOVE_PLACEHOLDER,aa);ga&&h.show(ga);}).setHandler(function(ja){ga&&i.remove(ga);}).setFinallyHandler(function(ja){u.inform(u.PLACEHOLDER,{grid:ca});}).send();});},replaceItem:function(v,w,x){var y=i.scry(v,'div[data-obj="'+w+'"]')[0];if(y){var z=m.byClass(y,"_30f");if(z)u.inform(u.REMOVE_PLACEHOLDER,z.id);i.remove(y.parentNode);}var aa=i.find(v,'[data-item="'+w+'"]'+"._2804");i.replace(aa,x);this.inform(u.NEW_ITEM,{grid:v,newItem:x});},prependItem:function(v,w){var x=j.scry(s(v),"._620")[0];i.prependContent(x,w);this.inform(u.NEW_ITEM,{grid:x,newItem:w});}},n);e.exports=u;},null);
__d("OGCollectionBatchAddCuration",["AsyncRequest","Event","OGCollectionAddCuration","Parent","Run"],function(a,b,c,d,e,f,g,h,i,j,k){var l={},m;function n(p){for(var q=0;q<l[p].listeners.length;q++)l[p].listeners[q].remove();l[p]=null;}var o={loadControls:function(p,q,r){if(!q||!Array.isArray(q))return;l[r]=l[r]||{tokens:[],listeners:[]};l[r].tokens=l[r].tokens.concat(q);var s=j.byClass(p,'fbTimelineUnit');l[r].listeners.push(h.listen(s,'mouseenter',function(){new g('/ajax/collections/batch_add_curation').setData({collectionitemtokens:l[r].tokens.join(),surface:r}).send();n(r);}));if(!m){m=true;k.onLeave(function(){for(var t in l)l[t]&&n(t);l={};m=null;});}},attachControls:function(p,q){for(var r=0;r<p.length;r++)i.insertControl(p[r],q[r]);}};e.exports=o;},null);
__d("ProfileActionBarLogger",["FBJSON","MarauderLogger","Optimus"],function(a,b,c,d,e,f,g,h,i){function j(){i.addEventListener('mouseup','data-loggable','ProfileHighQualityLogger',{handleOptimus:function(k,l,m){h.log('profile_high_quality_action',null,g.parse(l.getAttribute('data-store')));return false;}});}f.init=j;},null);
__d("ProfileInfoRequestNoteFlyout",["CSS","csx","DOM","Event","LayerDestroyOnHide","tidyEvent"],function(a,b,c,d,e,f,g,h,i,j,k,l){function m(n,o){"use strict";this.$ProfileInfoRequestNoteFlyout0=o;this.$ProfileInfoRequestNoteFlyout1=i.scry(this.$ProfileInfoRequestNoteFlyout0.getContentRoot(),"._958")[0];l(j.listen(n,'click',this.$ProfileInfoRequestNoteFlyout2.bind(this)));l(this.$ProfileInfoRequestNoteFlyout0.subscribe('success',this.$ProfileInfoRequestNoteFlyout3.bind(this)));l(this.$ProfileInfoRequestNoteFlyout0.subscribe('hide',this.$ProfileInfoRequestNoteFlyout4.bind(this)));l(this.$ProfileInfoRequestNoteFlyout0.subscribe('error',this.$ProfileInfoRequestNoteFlyout5.bind(this)));}m.prototype.$ProfileInfoRequestNoteFlyout2=function(n){"use strict";this.$ProfileInfoRequestNoteFlyout0.show();n.kill();};m.prototype.$ProfileInfoRequestNoteFlyout5=function(n,o){"use strict";i.setContent(this.$ProfileInfoRequestNoteFlyout1,o.response.errorDescription);g.show(this.$ProfileInfoRequestNoteFlyout1);return false;};m.prototype.$ProfileInfoRequestNoteFlyout4=function(){"use strict";g.hide(this.$ProfileInfoRequestNoteFlyout1);};m.prototype.$ProfileInfoRequestNoteFlyout3=function(){"use strict";this.$ProfileInfoRequestNoteFlyout0.enableBehavior(k);this.$ProfileInfoRequestNoteFlyout0.hide();};e.exports=m;},null);
__d("ProfileInfoRequestSuggestion",["CSS","Event","tidyEvent"],function(a,b,c,d,e,f,g,h,i){var j={listenThinker:function(k,l,m){m=m||'hidden_elem';i(h.listen(k,'click',g.removeClass.bind(g,l,m)));}};e.exports=j;},null);
__d("EscapeHatchFriendReject",["Arbiter","DOM","Parent","ge"],function(a,b,c,d,e,f,g,h,i,j){var k={init:function(l,m,n){g.subscribe('CONNECTION_REQUEST',function(o,p){var q=j(l);if(p.hidden&&p.id===m&&q)h.setContent(i.byTag(q,'span'),n);});}};e.exports=k;},null);
__d("ProfileEscapeHatch",["CSS","ProfileTabUtils","TimelineComponentKeys","TimelineController"],function(a,b,c,d,e,f,g,h,i,j){function k(l){"use strict";this.$ProfileEscapeHatch0=l;j.register(i.ESCAPE_HATCH,this);}k.prototype.handleTabChange=function(l){"use strict";g.conditionShow(this.$ProfileEscapeHatch0,h.isTimelineTab(l));};e.exports=k;},null);
__d("TimelineBanner",["Arbiter"],function(a,b,c,d,e,f,g){var h={init:function(i){g.subscribe('FriendRequest/confirm',function(j,k){if(k.id===i)window.location.reload();});}};e.exports=h;},null);
__d("TimelineContextItemLogger",["BanzaiLogger","Event","FBJSON","Parent","Run","cx","tidyEvent"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n='MTimelineXContextItemsLoggerConfig',o='impression',p='click',q='context_item_url',r='event',s="_md0",t=[];function u(w,x,y){var z=i.parse(w.getAttribute('data-store'));z[r]=x;if(y)z[q]=y;g.log(n,z);}var v={logWhenVisible:function(w){if(!t.length)k.onLeave(function(){t=[];});t.push(w);},logWhenClicked:function(w){m(h.listen(w,'click',function(x){var y=x.getTarget();if(y.nodeName!=='A')return;var z=j.byClass(y,s);z&&u(z,p,y.href);}));},listenToExpand:function(w){m(w.addListener('expanded',function(){while(t.length)u(t.pop(),o);}));}};e.exports=v;},null);
__d("TimelineCoverPhotoChangePrivacyDialog",["Arbiter","Event"],function(a,b,c,d,e,f,g,h){var i={init:function(j,k,l){this._dialog=j;this._tooltipLink=l;this._closeButton=k;this._showDialog=false;this._tooltip=null;},registerDialogShow:function(){this._showDialog=true;g.subscribe('CoverPhotoEdit',function(j,k){if(!this._showDialog)return;if(k.state==="open"){this._dialog&&this._dialog.show();if(this._tooltipLink){this._tooltip=this._tooltipLink.getAttribute('data-hover');this._tooltipLink.setAttribute('data-hover',null);}}else if(k.state==="closed")this.hideDialog();}.bind(this));h.listen(this._closeButton,'click',this.hideDialog.bind(this));},hideDialog:function(){this._dialog&&this._dialog.hide();if(this._tooltipLink)this._tooltipLink.setAttribute('data-hover',this._tooltip);this._showDialog=false;}};e.exports=i;},null);
__d("TimelineNavLight",["CSS","DOM","DOMQuery","Parent","ProfileOverviewDOMID","TimelineAppSectionConstants","TimelineComponentKeys","TimelineController","TimelineSection","csx","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r="_6-7",s="_529n",t="_5215",u="_70k",v="._6-7",w="._6-6";function x(y){"use strict";this.$TimelineNavLight0=i.scry(y,v)[0];this.$TimelineNavLight1=i.scry(y,w);var z=j.byClass(y,u).offsetWidth,aa=this.$TimelineNavLight1[this.$TimelineNavLight1.length-1];if(aa.offsetLeft+aa.offsetWidth>z)g.addClass(y,t);for(var ba=this.$TimelineNavLight1.length-1;ba>1;ba--)if(this.$TimelineNavLight1[ba].offsetLeft+this.$TimelineNavLight1[ba].offsetWidth>z){h.remove(this.$TimelineNavLight1[ba]);}else break;g.removeClass(j.byClass(y,s),s);o.subscribe('Medley/transitionToSection',function(ca,da){this.$TimelineNavLight3(da.slice(k.PREFIX_MEDLEY.length));}.bind(this));n.register(m.COVER_NAV,this);}x.prototype.handleTabChange=function(y){"use strict";this.$TimelineNavLight3(y);};x.prototype.$TimelineNavLight3=function(y){"use strict";this.$TimelineNavLight0&&g.removeClass(this.$TimelineNavLight0,r);this.$TimelineNavLight1.some(function(z){var aa=l.collectionTabKeyToAppTabKey[y]||y;if(z.getAttribute('data-tab-key')===aa){g.addClass(z,r);this.$TimelineNavLight0=z;return true;}}.bind(this));};e.exports=x;},null);
__d("TimelineSecondaryColumnUnitList",["CSS","DOM","Event","Run","csx","cx","mixInEventEmitter"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=30;function o(p,q){"use strict";var r=i.listen(q,'click',function(){this.$TimelineSecondaryColumnUnitList0=h.scry(p,"._16f_");this.$TimelineSecondaryColumnUnitList1();h.remove(q);this.emit('expanded');}.bind(this));j.onLeave(r.remove.bind(r));}o.prototype.$TimelineSecondaryColumnUnitList1=function(){"use strict";if(!this.$TimelineSecondaryColumnUnitList0.length)return;g.removeClass(this.$TimelineSecondaryColumnUnitList0.shift(),"_16f_");setTimeout(this.$TimelineSecondaryColumnUnitList1.bind(this),n);};m(o,{expanded:true});e.exports=o;},null);
__d("TimelineCapsule",["Arbiter","CSS","DataStore","DOM","DOMQuery","DOMScroll","Parent","TimelineConstants","TimelineLegacySections","UserAgent_DEPRECATED","Vector","$","createArrayFromMixed","csx","isEmpty","queryThenMutateDOM"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){var w=(function(){var x=45,y=15,z={},aa={};function ba(oa){return h.hasClass(oa,'fbTimelineBalancer');}function ca(oa){return oa.getAttribute('data-spine');}function da(oa){return h.hasClass(oa,'placeholderUnit');}function ea(oa,pa){if(pa)return (i.get(n.DS_SIDEORG,oa.id)||oa.getAttribute('data-side'));return oa.getAttribute('data-side');}function fa(oa,pa){i.set(n.DS_SIDEORG,oa.id,ea(oa,true));oa.setAttribute('data-side',pa);}function ga(oa){return oa.getAttribute('data-size');}function ha(oa){if(h.hasClass(oa,'fbTimelineOneColumn')&&oa.prevSibling&&h.hasClass(oa.prevSibling,'fbTimelineOneColumn'))return y*2;if(h.hasClass(oa,'fbTimelineIndeterminateContent'))return 0;return y;}function ia(oa,pa){var qa=0;if(h.shown(oa)&&!h.hasClass(oa,'placeholderUnit'))qa=oa.offsetHeight+ha(oa);i.set(n.DS_HEIGHT,oa.id,parseInt(qa,10));}function ja(oa){var pa=i.get(n.DS_HEIGHT,oa.id,null);return pa;}function ka(oa,pa){if(ga(pa)=='2'){return 0;}else if(ea(pa)=='r'){return oa+ja(pa);}else return oa-ja(pa);}function la(oa){k.scry(oa,"._3ram").forEach(function(pa){var qa=pa.getAttribute('data-endmarker'),ra=pa.getAttribute('data-pageindex'),sa=function(){if(!pa.parentNode)return;i.set(n.DS_LOADED,oa.id,ra);j.remove(pa);g.inform(n.SECTION_FULLY_LOADED,{scrubberKey:qa,pageIndex:ra,capsuleID:oa.id,childCount:oa.childNodes.length});};if(o.get(qa)){sa();}else var ta=g.subscribe(n.SECTION_REGISTERED,function(ua,va){if(va.scrubberKey===qa){sa();ta.unsubscribe();}});});g.inform('TimelineCapsule/balanced',{capsule:oa});}function ma(oa){if(u(z[oa.id]))return;var pa=ba(oa)?oa.firstChild:oa,qa=pa.childNodes.length,ra={},sa={},ta,ua=y,va=y,wa,xa=[];for(var ya=0;ya<qa;ya++){ta=pa.childNodes[ya];if(h.hasClass(ta,'fbTimelineUnit')){wa=k.scry(ta,'div.timelineUnitContainer')[0];if(wa)sa[ta.id]=wa.getAttribute('data-time');if(!da(ta)&&h.shown(ta)){if(ga(ta)=='2'){ra[ta.id]=Math.max(ua,va);ua=va=ra[ta.id]+ja(ta);}else if(ea(ta)=='r'){ra[ta.id]=va;va+=ja(ta);}else{ra[ta.id]=ua;ua+=ja(ta);}if(ea(ta,true)=='l'||ga(ta)=='2')xa.push(ta.id);}}}for(ya=0;ya<xa.length-1;++ya){var za=xa[ya],ab=xa[ya+1],bb=ra[za]+x,cb=ra[ab];for(var db in z[oa.id]){if(bb>cb)break;var eb=z[oa.id][db];if(h.shown(eb))continue;if(sa[db]<=sa[za]&&sa[db]>sa[ab]){eb.style.top=bb+"px";bb+=x;h.show(eb);}}}}function na(oa,pa){var qa=m.byAttribute(oa,'data-size');if(qa){if(h.hasClass(oa.parentNode,'timelineReportContent')){pa(oa);}else pa(qa);w.balanceCapsule(m.byClass(qa,'fbTimelineCapsule'));}}return {removeUnit:function(oa){na(oa,function(pa){j.remove(pa);});},removeUnitWithID:function(oa){w.removeUnit(r(oa));},hideUnit:function(oa){na(oa,function(pa){h.addClass(pa,'fbTimelineColumnHidden');});},undoHideUnit:function(oa,pa){j.remove(m.byClass(pa,'hiddenText'));na(oa,function(qa){h.removeClass(qa,'fbTimelineColumnHidden');});},unplacehold:function(oa){var pa=r(oa);pa.style.top=null;h.removeClass(pa,'visiblePlaceholder');h.removeClass(pa,'placeholder');var qa=m.byClass(pa,'fbTimelineCapsule');delete z[qa.id][oa];w.balanceCapsule(qa);},scrollToCapsule:function(oa){if(!aa.hasOwnProperty(oa.id)){var pa=q.getElementPosition(oa.parentNode);l.scrollTo(new q(q.getScrollPosition().x,pa.y-n.SCROLL_TO_OFFSET,'document'));aa[oa.id]=true;}},balanceCapsuleFromChild:function(oa,pa){w.balanceCapsule(m.byClass(oa,'fbTimelineCapsule'),pa);},balanceCapsuleDeferred:function(oa,pa){setTimeout(w.balanceCapsule.bind(null,oa,pa),0);},balanceCapsule:function(oa,pa){if(!oa||!oa.childNodes)return;var qa=0,ra,sa=document.createDocumentFragment(),ta=[],ua=[],va=[],wa=false,xa=pa&&pa.heights_action;if(pa&&pa.tail_balance)i.set(n.DS_TAILBALANCE,oa.id,pa.tail_balance);if(p.chrome()||p.webkit())h.toggleClass(oa,'webkitFix');for(var ya=0;ya<oa.childNodes.length;ya++){ra=oa.childNodes[ya];if(ca(ra)){continue;}else if(ba(ra)){s(ra.firstChild.childNodes).forEach(function(gb){ia(gb,xa);});continue;}ia(ra,xa);if(ea(ra,true)=='r'){ua.push(ra);}else ta.push(ra);va.push(ra);if(ga(ra)!='2')if((qa>0&&ea(ra)=='r')||(qa<0&&ea(ra)=='l'))wa=true;qa=ka(qa,ra);}var za=[],ab=[],bb=[];k.scry(oa,'li.fbTimelineBalancer').forEach(function(gb){var hb=s(gb.firstChild.childNodes);if(gb.getAttribute('data-nonunits')){bb=bb.concat(hb);}else if(ea(gb)=='left'){za=za.concat(hb);}else if(ea(gb)=='right')ab=ab.concat(hb);});if(wa){oa.style.minHeight=oa.offsetHeight;ta.forEach(function(gb){if(ga(gb)!='2')fa(gb,'l');});ua.forEach(function(gb){if(ga(gb)!='2')fa(gb,'r');});var cb=j.create('li',{className:'fbTimelineBalancer'},j.create('ol',null,ta));cb.setAttribute('data-side','left');j.prependContent(oa,cb);za=ta.concat(za);var db=j.create('li',{className:'fbTimelineBalancer'},j.create('ol',null,ua));db.setAttribute('data-side','right');j.prependContent(oa,db);ab=ua.concat(ab);qa=0;}while(bb.length)sa.appendChild(bb.shift());while((qa>=0&&za.length)||(qa<0&&ab.length)){if(qa>=0){ra=za.shift();}else ra=ab.shift();sa.appendChild(ra);qa=ka(qa,ra);}oa.appendChild(sa);k.scry(oa,'li.fbTimelineBalancer').forEach(function(gb){if(!gb.firstChild.childNodes.length)j.remove(gb);});var eb=(pa&&pa.tail_balance)||i.get(n.DS_TAILBALANCE,oa.id);if(eb)qa=w.tailBalance(oa,qa,eb);if(wa){va.forEach(function(gb){if(gb.parentNode!==oa){oa.appendChild(gb);qa=ka(qa,gb);}});oa.style.minHeight=null;}var fb=m.byClass(oa,'fbTimelineSection');if(fb)i.set(n.DS_COLUMN_HEIGHT_DIFFERENTIAL,fb.id,qa);z[oa.id]={};k.scry(oa,'li.placeholderUnit').forEach(function(gb){z[oa.id][gb.id]=gb;});ma(oa);la(oa);},tailBalance:function(oa,pa,qa){if(!oa)return pa;var ra=[],sa=[],ta=[],ua=[];k.scry(oa,'li.fbTimelineBalancer').forEach(function(wa){var xa=s(wa.firstChild.childNodes);if(wa.getAttribute('data-nonunits')){ua=ua.concat(xa);}else if(ea(wa)=='left'){sa=sa.concat(xa);}else if(ea(wa)=='right')ta=ta.concat(xa);ra=ra.concat(xa);});if((qa==n.FIXED_SIDE_RIGHT&&sa.length)||(qa==n.FIXED_SIDE_LEFT&&ta.length))return pa;var va=document.createDocumentFragment();if(ra)while(ra.length){if(qa!=n.FIXED_SIDE_NONE)if(ga(ra[0])!='2')if(pa>=0){fa(ra[0],'l');}else fa(ra[0],'r');pa=ka(pa,ra[0]);va.appendChild(ra.shift());}oa.appendChild(va);k.scry(oa,'li.fbTimelineBalancer').forEach(function(wa){if(!wa.firstChild.childNodes.length)j.remove(wa);});return pa;},loadTwoColumnUnits:function(oa){var pa=r(oa);v(function(){var qa=m.byClass(pa,'fbTimelineSection');if(qa){var ra=k.find(pa,"._3rbf"),sa=k.find(pa,"._3rbh"),ta=sa.offsetHeight-ra.offsetHeight;i.set(n.DS_COLUMN_HEIGHT_DIFFERENTIAL,qa.id,ta);}},la.bind(null,pa));}};})();e.exports=a.TimelineCapsule||w;},null);
__d("TimelineCapsuleUtilities",["CSS"],function(a,b,c,d,e,f,g){var h={setFirstUnit:function(i){var j=true;for(var k=0;k<i.childNodes.length;++k){var l=i.childNodes[k];if(l.id.indexOf('tl_unit_')===0)if(j){j=false;g.addClass(l,'firstUnit');}else{g.removeClass(l,'firstUnit');break;}}}};e.exports=h;},null);
__d("TimelineComposer",["Arbiter","Bootloader","ComposerXMarauderLogger","ComposerXStore","CSS","DOM","Parent","Run","TimelineCapsule","TimelineCapsuleUtilities","$","getObjectValues","goURI"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var t;function u(){i.logCompleted(t.id);}function v(x){if(x.hidePost){u();return;}if(x.redirect){var y=j.getAllForComposer(t.id);r(y).forEach(function(aa){if(aa.reset)aa.reset(aa);});s(x.redirect);u();return;}if(!x.streamStory){window.location.reload();return;}if(x.backdatedTime){h.loadModules(["TimelineStoryPublisher"],function(aa){aa.publish(x);});u();return;}var z=w.renderCapsuleBasedStory(t,x.streamStory);g.inform('TimelineComposer/on_after_publish',z,g.BEHAVIOR_PERSISTENT);u();}var w={init:function(x){t=q(x);var y=g.subscribe('composer/publish',function(event,z){if(z.composer_id===t.id)v(z);});n.onLeave(y.unsubscribe.bind(y));},renderCapsuleBasedStory:function(x,y){var z=m.byClass(x,'fbTimelineCapsule');if(!z)return;var aa=m.byClass(x,'fbTimelineUnit'),ba=aa.nextSibling;if(ba&&ba.getAttribute('data-spine'))aa=aa.nextSibling;l.insertAfter(aa,y);var ca=y;if(k.hasClass(y,'fbTimelineUnit'))ca=l.find(y,'div.timelineUnitContainer');h.loadModules(["Animation"],function(da){new da(ca).from('backgroundColor','#fff8dd').to('backgroundColor','#fff').duration(2000).ease(da.ease.both).go();});p.setFirstUnit(z);o.balanceCapsule(z);return y;}};e.exports=a.TimelineComposer||w;},null);
__d("TimelineUnitSelector",["DOMQuery","csx"],function(a,b,c,d,e,f,g,h){var i={getUnitsWithTime:function(j){return g.scry(j,"._5jmm[data-time]");}};e.exports=i;},null);
__d("TimelineComposerUtilities",["Event","Arbiter","Bootloader","CSS","DOM","DOMQuery","Parent","TimelineUnitSelector","Vector","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=86400*31,r=86400000,s={listenToSetEstimatedDate:function(t,u){return h.subscribe('ComposerXTimelineTagger/init',function(v,w){if(l.contains(t,w.datePickerElement)){s.setEstimatedDate(w.datePickerInstance,u());w.composerTimelineTagger.switchToTagger('date');}});},listenToPublish:function(t,u){if(t.root)t=t.root;return h.subscribe('composer/publish',function(event,v){if(v.composer_id===t.id)i.loadModules(["TimelineStoryPublisher"],function(w){w.publish(v);u&&u();});});},listenToAnotherComposerOpen:function(t,u){return h.subscribe('composer/mutate',function(v,w){if(w!==t)u();});},listenToCancel:function(t,u){return g.listen(t,'click',function(event){if(m.byClass(event.getTarget(),"_306"))u();});},setEstimatedDate:function(t,u){var v,w;if(u&&j.hasClass(u,'fbTimelineCapsule')){v=u.getAttribute('data-start');w=u.getAttribute('data-end');if(v&&w){var x=new Date(w*1000),y=new Date();if(x>y){t.setDate(y.getFullYear(),y.getMonth()+1,y.getDate());}else if(w-v>2*q){t.setDate(x.getFullYear());}else t.setDate(x.getFullYear(),x.getMonth()+1);}return;}var z=m.byClass(u,'fbTimelineCapsule');if(z){v=z.getAttribute('data-start');w=z.getAttribute('data-end');var aa=o.getElementPosition(u).y,ba=[w,null],ca=[v,null],da=n.getUnitsWithTime(z);for(var ea=0;ea<da.length;ea++){var fa=da[ea],ga=k.scry(fa.parentNode,'.spinePointer')[0];if(!ga)continue;var ha=o.getElementPosition(ga).y;if(ha<=aa){if(!ba[1]||ha>ba[1])ba=[fa.getAttribute('data-time'),ha];}else if(!ca[1]||ha<ca[1])ca=[fa.getAttribute('data-time'),ha];}if(ba[0]!==null&&ca[0]!==null){var ia=Math.round((parseInt(ba[0],10)+parseInt(ca[0],10))/2)*1000;ia=Math.min(new Date()-r,ia);t.setDateWithTimestamp(ia);}}}};e.exports=s;},null);
__d("TimelineSectionStore",["TimelinePageLoadParam","KeyedCallbackManager"],function(a,b,c,d,e,f,g,h){var i=new h(),j='num_reports_tried',k='num_reports_visible',l='more_pager_data',m={getDataToLoadNextSegment:function(n,o){i.executeOrEnqueue(n,function(p){this._mergeReportsAndStoriesDataCallback(p,o);}.bind(this));},setReportsData:function(n,o,p){var q=i.getResource(n);if(!q)q={};q[j]=o;q[k]=p;i.setResource(n,q);},setStoriesData:function(n,o){var p=i.getResource(n);if(!p)p={};p[l]=o;i.setResource(n,p);},_mergeReportsAndStoriesDataCallback:function(n,o){var p=n[l];if(!p.hasOwnProperty(g.REQUEST_PARAM_NAME))p[g.REQUEST_PARAM_NAME]={};p[g.REQUEST_PARAM_NAME][g.REPORT_UNIT_COUNT]=n[j];var q=p[g.REQUEST_PARAM_NAME][g.VISIBLE_UNIT_COUNT];p[g.REQUEST_PARAM_NAME][g.VISIBLE_UNIT_COUNT]=q+n[k];o(p);}};e.exports=m;},null);
__d("TimelineParallelColumnPager.react",["Link.react","React","TimelineSectionStore","UIPagelet","LoadingIndicator.react","OnVisible.react"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=h.PropTypes,n={},o={STATE_WAITING_FOR_ONVISIBLE:'state_waiting_for_onvisible',STATE_LOADING_INDICATOR:'state_loading_indicator',STATE_LINKIFIED:'state_linkified'},p=h.createClass({displayName:"TimelineParallelColumnPager",propTypes:{loadMoreLabel:m.string.isRequired,sectionKey:m.string.isRequired,rootID:m.string.isRequired},componentWillMount:function(){n[this.props.sectionKey]=this;},getInitialState:function(){return {pagerState:o.STATE_WAITING_FOR_ONVISIBLE};},render:function(){if(this.state.pagerState===o.STATE_LOADING_INDICATOR)return h.createElement(k,{size:"small",color:"white"});if(this.state.pagerState===o.STATE_LINKIFIED)return (h.createElement(g,{onClick:this._loadNextSegment},this.props.loadMoreLabel));return (h.createElement(l,{onVisible:this._loadNextSegment},h.createElement("div",null)));},statics:{getInstance:function(q){return n[q];}},removeOnVisible:function(){this.setState({pagerState:o.STATE_LINKIFIED});},_loadNextSegment:function(){this.setState({pagerState:o.STATE_LOADING_INDICATOR});i.getDataToLoadNextSegment(this.props.sectionKey,this._nextSegmentDataHandler);},_nextSegmentDataHandler:function(q){var r={usePipe:true,jsNonblock:true,buffer:1000,constHeight:true,target_id:q.unit_container_id,crossPage:true};j.loadFromEndpoint('ProfileTimelineSectionPagelet',this.props.rootID,q,r);}});e.exports=p;},null);
__d("TimelineContentLoader",["Arbiter","CSS","DOM","DOMScroll","Event","OnVisible","Parent","ScrollingPager","TimelineComponentKeys","TimelineConstants","TimelineController","TimelineDOMID","TimelineLegacySections","TimelineParallelColumnPager.react","TimelineScrubberKey","TimelineSmartInsert","UIPagelet","Vector","$","arrayContains","copyProperties","createArrayFromMixed","csx","debounce","ge","getElementText","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga){var ha=false,ia,ja=null,ka={},la=[],ma={},na=[],oa={},pa={},qa={},ra={},sa=false,ta=null;function ua(db,eb,fb,gb,hb){"use strict";this.node=db;this.loaded=gb;this.canScrollLoad=true;this.canUnload=eb!==u.RECENT_ACTIVITY;this.scrubberKey=eb;this.historicUnitCount=hb;this._pageletLoadData=fb;this._expandPageletLoadData={};this.rightColumnFinished=false;}ua.prototype.load=function(db,eb){"use strict";if(this.loaded)return;var fb=this._pageletLoadData;g.inform(p.SECTION_LOADING,{data:fb,scrubberKey:this.scrubberKey});this.loaded=true;h.removeClass(this.node,'fbTimelineTimePeriodUnexpanded');h.removeClass(this.node,'fbTimelineTimePeriodSuppressed');var gb='ProfileTimelineSectionPagelet',hb=this.scrubberKey===u.WAY_BACK;if(hb)gb='ProfileTimelineRemainingYearsPagelet';fb.highlight_unit_data=db;fb.parent_key=this.parentKey;fb.force_no_friend_activity=sa;h.addClass(this.node,'fbTimelineSectionLoading');this.canScrollLoad=false;var ib=null;if(eb){this.node.style.minHeight=window.innerHeight+'px';ib=function(){this.node.style.minHeight='';za(this.scrubberKey);}.bind(this);}qa[this.scrubberKey]=w.loadFromEndpoint(gb,this.node.id,fb,{usePipe:true,jsNonblock:true,constHeight:true,append:false,finallyHandler:ib});ab();};ua.prototype.preload=function(){"use strict";h.addClass(this.node,'fbTimelineTimePeriodSuppressed');h.removeClass(this.node,'fbTimelineTimePeriodUnexpanded');var db=i.find(this.node,'span.sectionLabel');if(db.getAttribute('data-original-label')){i.setContent(db,db.getAttribute('data-original-label'));db.removeAttribute('data-original-label');}};ua.prototype.unload=function(){"use strict";if(!this.loaded||!this.canUnload)return;this.loaded=false;qa[this.scrubberKey]&&qa[this.scrubberKey].cancel();h.addClass(this.node,'fbTimelineTimePeriodUnexpanded');h.removeClass(this.node,'fbTimelineTimePeriodSuppressed');if(this.node.nextSibling&&h.hasClass(this.node.nextSibling,'fbTimelineSection')){i.setContent(this.node,this.node.nextSibling);h.show(this.node.firstChild);}else i.empty(this.node);this.deactivateScrollLoad();};ua.prototype.activateScrollLoad=function(){"use strict";this.canScrollLoad=true;h.removeClass(this.node,'fbTimelineTimePeriodSuppressed');h.addClass(this.node,'fbTimelineTimePeriodUnexpanded');pa[this.scrubberKey]&&pa[this.scrubberKey].reset();};ua.prototype.deactivateScrollLoad=function(){"use strict";if(!this.loaded){this.canScrollLoad=false;h.removeClass(this.node,'fbTimelineTimePeriodUnexpanded');h.addClass(this.node,'fbTimelineTimePeriodSuppressed');pa[this.scrubberKey]&&pa[this.scrubberKey].remove();}};ua.prototype.setExpandLoadData=function(db){"use strict";this._expandPageletLoadData=db;return this;};ua.prototype.appendData=function(db){"use strict";aa(this._pageleLoadData,db);return this;};ua.prototype.expandSubSections=function(){"use strict";if(this.subSections.length)cb.navigateToSection(this.subSections[0].scrubberKey);};ua.prototype.expand=function(db){"use strict";if(!this.loaded)return;var eb=i.find(this.node,'.fbTimelineSectionExpander');h.addClass(eb.firstChild,'async_saving');db&&h.addClass(db,'async_saving');cb.navigateToSection(this.scrubberKey);i.scry(this.node,'.fbTimelineCapsule').forEach(i.remove);this._expandPageletLoadData.new_expand=true;qa[this.scrubberKey]&&qa[this.scrubberKey].cancel();qa[this.scrubberKey]=w.loadFromEndpoint('ProfileTimelineSectionPagelet',eb.id,this._expandPageletLoadData,{usePipe:true,jsNonblock:true,constHeight:true});};ua.prototype.isPermalinkPeriod=function(){"use strict";return this._pageletLoadData.is_permalink_period;};function va(){if(ha)return;q.register(o.CONTENT,cb);ha=true;}var wa=da(function(db,eb,fb){var gb=s.get(db).historicUnitCount;eb-=gb;fb-=1;if(gb==-1||fb<=0||eb<0)return;var hb=cb.getNextSectionKey(db);if(hb){s.get(hb).load();wa(hb,eb,fb);}},500);function xa(db,eb,fb,gb){var hb=cb.getNextSectionKey(eb);if(hb){pa[hb]=new l(db,ya.bind(null,hb),false,fb||1000);}else if(eb!==u.WAY_BACK){gb=gb?gb:0;if(gb>80)return null;setTimeout(xa.bind(null,db,eb,fb,gb+1),250);}}function ya(db){var eb=s.get(db);if(eb&&eb.canScrollLoad){eb.load();if(ta)wa(db,ta.required_units,ta.max_parallelism);}}function za(db){var eb=pa[db];if(eb){eb.remove();pa[db]=null;i.remove(eb.getElement());}}function ab(){var db,eb,fb=false;for(var gb=0;gb<la.length;gb++){var hb=la[gb];if(!hb)continue;var ib=s.get(hb);if(ib&&(ib.canScrollLoad||ib.loaded)){if(!ib.loaded){h.removeClass(ib.node,'fbTimelineTimePeriodSuppressed');h.addClass(ib.node,'fbTimelineTimePeriodUnexpanded');}if(db&&eb){bb(db,eb);if(fb)db.deactivateScrollLoad();fb=true;}db=null;eb=null;continue;}else if(db){eb=ib;ib.deactivateScrollLoad();}else{db=ib;if(fb)ib.activateScrollLoad();}h.removeClass(ib.node,'fbTimelineTimePeriodSuppressed');h.addClass(ib.node,'fbTimelineTimePeriodUnexpanded');}}function bb(db,eb){h.removeClass(eb.node,'fbTimelineTimePeriodUnexpanded');h.addClass(eb.node,'fbTimelineTimePeriodSuppressed');var fb=i.find(db.node,'span.sectionLabel'),gb=i.find(eb.node,'span.sectionLabel');if(!gb.getAttribute('data-original-label'))gb.setAttribute('data-original-label',fa(gb));if(fb.getAttribute('data-month')&&gb.getAttribute('data-month')&&fb.getAttribute('data-year')==gb.getAttribute('data-year')){i.setContent(gb,ga._("Show {month1} - {month2} {year}",[ga.param("month1",gb.getAttribute('data-month')),ga.param("month2",fb.getAttribute('data-month')),ga.param("year",fb.getAttribute('data-year'))]));}else if(fb.getAttribute('data-year')!==gb.getAttribute('data-year')){i.setContent(gb,ga._("Show {year1} - {year2}",[ga.param("year1",gb.getAttribute('data-year')),ga.param("year2",fb.getAttribute('data-year'))]));}else i.setContent(gb,ga._("Show {year}",[ga.param("year",gb.getAttribute('data-year'))]));}var cb={HEADER_SCROLL_CUTOFF:80,CURRENT_SECTION_OFFSET:150,registerTimePeriod:function(db,eb,fb,gb,hb,ib,jb){va();if(z(na,eb))return;if(ma)aa(fb,ma);var kb=new ua(db,eb,fb,gb,jb);if(!hb){la[ib]=eb;ka[eb]=true;}else{kb.parentKey=hb;s.get(hb).subSections=s.get(hb).subSections||[];s.get(hb).subSections[ib]=kb;}s.set(eb,kb);cb.checkCurrentSectionChange();g.inform(p.SECTION_REGISTERED,{scrubberKey:eb,period:kb});},reset:function(){for(var db in pa)pa[db]&&pa[db].remove();for(var eb in qa)qa[eb]&&qa[eb].cancel();for(var fb in ra){ra[fb].unsubscribe();delete ra[fb];}ia&&ia.unsubscribe();ia=null;s.removeAll();ja=null;ka={};la=[];ma={};na=[];oa={};pa={};qa={};sa=false;ha=false;},checkCurrentSectionChange:function(){var db=cb.getCurrentSection(),eb=ja&&ja.scrubberKey;if(db&&db.scrubberKey!==eb&&!db.isPermalinkPeriod()){ja=db;var fb=db.scrubberKey,gb=db.parentKey;if(!gb){gb=fb;fb=null;}q.sectionHasChanged(gb,fb);}},setParallelLoadConfig:function(db){ta=db;},getCurrentSection:function(){var db={},eb=s.getAll();for(var fb in eb){var gb=eb[fb];if(!gb.loaded||oa[gb.scrubberKey])continue;var hb=x.getElementPosition(gb.node,'viewport').y;if(gb.scrubberKey===u.RECENT_ACTIVITY)hb--;if(hb<cb.CURRENT_SECTION_OFFSET)db[hb]=gb;}var ib=Math.max.apply(null,Object.keys(db)),jb=ib==-Infinity;if(!jb){return db[ib];}else if(la[0])return s.get(la[0]);return null;},capsuleForCurrentSection:function(){var db=cb.getCurrentSection();return db&&i.scry(db.node,'.fbTimelineCapsule')[0];},enableScrollLoad:function(db,eb,fb,gb){db=y(db);var hb=m.byClass(db,'fbTimelineSection')||db.parentNode,ib=hb&&i.scry(hb,'.fbTimelineCapsule')[0];if(!ib)return;if(fb===null){xa(db,eb,gb);}else q.runOnceWhenSectionFullyLoaded(xa.bind(null,db,eb,gb),eb,fb);},expandSectionOnClick:function(db,eb){k.listen(db,'click',function(fb){fb.prevent();s.get(eb).expand();});},expandSubSectionsOnClick:function(db,eb){k.listen(db,'click',function(fb){fb.prevent();s.get(eb).expandSubSections();});},getNextSectionKey:function(db){for(var eb=0;eb<la.length-1;eb++)if(la[eb]==db){while(eb<la.length-1&&!la[eb+1])eb++;return la[eb+1];}var fb=s.get(db);if(!fb||!fb.parentKey)return;var gb=s.get(fb.parentKey);if(!gb)return;for(var hb=0;hb<gb.subSections.length-1;hb++)if(gb.subSections[hb].scrubberKey==db)return gb.subSections[hb+1].scrubberKey;},hideSection:function(db){var eb=s.get(db);eb&&h.hide(i.find(eb.node,'.fbTimelineSection'));var fb=q.getCurrentScrubber();if(fb){var gb=null;if(!ka[db]){var hb=eb.parentKey;gb=q.getCurrentScrubber().getSubnav(hb,db);}else gb=q.getCurrentScrubber().getNav(db);gb&&h.hide(gb);}var ib=q.getCurrentStickyHeaderNav();ib&&ib.removeTimePeriod(db);oa[db]=true;},loadSectionOnClick:function(db,eb){k.listen(db,'click',function(fb){fb.prevent();s.get(eb).load();});},removeSection:function(db){for(var eb in la)if(la[eb]==db){la[eb]=null;break;}s.remove(db);delete ka[db];if(db in pa){pa[db].remove();delete pa[db];}var fb=q.getCurrentStickyHeaderNav();fb&&fb.removeTimePeriod(db);na.push(db);},removeSectionParent:function(db){i.remove(y(db).parentNode);},navigateToSection:function(db,eb,fb){eb=!!eb;var gb=db,hb=s.get(db);if(!hb)return;if(!hb.loaded){v.enable();i.scry(y(r.TAB_CONTENT),'.fbTimelineShowOlderSections').forEach(i.remove);}if(!ka[db]){if(!hb.loaded)hb.node.style.minHeight=x.getViewportDimensions().y+'px';var ib=g.subscribe(p.SECTION_FULLY_LOADED,function(qb,rb){if(rb.scrubberKey===db){hb.node.style.minHeight='';ib.unsubscribe();}});gb=hb.parentKey;var jb=s.get(gb).node;if(!h.hasClass(jb,'fbTimelineSectionExpanded')){j.scrollTo(jb,0);h.addClass(jb,'fbTimelineSectionExpanded');i.scry(jb,'.fbTimelineCapsule').forEach(i.remove);i.scry(jb,'div.fbTimelineSectionExpandPager').forEach(i.remove);i.scry(jb,'div.fbTimelineContentHeader').forEach(i.remove);i.scry(jb,"._5vf").forEach(function(qb){if(!qb.getAttribute('data-subsection'))i.remove(qb);});}var kb=cb.getNextSectionKey(gb);if(kb&&pa[kb])pa[kb].setBuffer(0);}for(var lb=0;lb<la.length;lb++){var mb=la[lb];if(!mb)continue;if(mb==gb)break;s.get(mb).deactivateScrollLoad();i.scry(y(r.TAB_CONTENT),'.fbTimelineSectionExpandPager').forEach(function(qb){var rb=n.getInstance(qb.id);rb&&rb.removeOnVisible();});var nb=t.getInstance(mb);nb&&nb.removeOnVisible();}hb.load(fb,true);ab();var ob=x.getScrollPosition().x,pb=x.getElementPosition(hb.node).y;if(!eb)j.scrollTo(new x(ob,pb-p.SCROLL_TO_OFFSET,'document'),true,false,false,0,function(){var qb=x.getElementPosition(hb.node).y;j.scrollTo(new x(ob,qb-p.SCROLL_TO_OFFSET,'document'),false);var rb=i.scry(hb.node,'h3.uiHeaderTitle')[0];if(rb){rb.tabIndex=0;rb.focus();}});},appendContentAfterLoad:function(db,eb,fb){q.runOnceWhenSectionFullyLoaded(i.appendContent.bind(null,y(db),eb),fb,'0');},markSectionAsLoaded:function(db,eb,fb){q.runOnceWhenSectionFullyLoaded(function(){ea(db)&&h.removeClass(y(db).parentNode,'fbTimelineSectionLoading');},eb,fb);},suppressSectionsAbove:function(db){var eb,fb;for(var gb=0;gb<la.length;gb++){var hb=la[gb];if(!hb)continue;eb=s.get(hb).node;fb=null;if(ba(db.parentNode.children).indexOf(db)<=ba(eb.parentNode.children).indexOf(eb)){fb=hb;break;}s.get(hb).deactivateScrollLoad();}if(fb)cb.navigateToSection(fb,true);},forceNoFriendActivity:function(){sa=true;},removeDupes:function(db){var eb=ea(db);if(!eb)return;var fb=i.scry(eb,'li.fbTimelineUnit'),gb={};for(var hb=0;hb<fb.length;hb++){var ib=fb[hb];if(ib.id&&ib.id.startsWith('tl_unit_')){var jb=ib.id.substring(8,ib.id.length),kb=i.scry(ib,'div.timelineUnitContainer');if(kb.length>0)jb=jb+kb[0].getAttribute('data-time');if(gb.hasOwnProperty(jb)){ib.id='dupe_unit_'+Math.random();ib.className="hidden_elem";}else gb[jb]=1;}}},removeLoadingState:function(db){ea(db)&&h.removeClass(y(db),'fbTimelineSectionLoading');},setExpandLoadDataForSection:function(db,eb){var fb=s.get(db);fb&&fb.setExpandLoadData(eb);},appendSectionDataForAllSections:function(db){ma=db;for(var eb=0;eb<la.length-1;eb++){var fb=la[eb];if(!fb)continue;var gb=s.get(fb);gb&&gb.appendData(db);}},updatePagerAfterLoad:function(db,eb,fb,gb,hb){var ib=n.getInstance(db.firstChild.id);if(!ib){ra[db.firstChild.id]=g.subscribe(n.REGISTERED,function(jb,kb){ra[db.firstChild.id].unsubscribe();delete ra[db.firstChild.id];if(kb.id===db.firstChild.id)cb.updatePagerAfterLoad(db,eb,fb,gb,hb);});return;}q.runOnceWhenSectionFullyLoaded(function(){h.removeClass(db,'fbTimelineHiddenPager');ib.checkBuffer();},fb,gb);if(hb)q.runOnceWhenSectionFullyLoaded(q.adjustScrollingPagerBuffer.bind(null,db.firstChild.id,eb),fb,gb);},repositionDialog:function(db){g.subscribe(p.SECTION_LOADED,function(){db.updatePosition();});},rightColumnFinished:function(db){var eb=s.get(db);eb.rightColumnFinished=true;},storyColumnFinished:function(db){var eb=s.get(db);eb.storyColumnFinished=true;},addUnrankedUnits:function(db){var eb=y(db),fb=i.scry(eb,'li.fbTimelineUnit');for(var gb=fb.length-1;gb>=0;gb--){var hb=fb[gb];i.insertAfter(eb,hb);h.addClass(i.find(hb,'div.timelineUnitContainer'),'fbTimelineHighlightUnit');}i.remove(eb);},addUnrankedStories:function(db){var eb=y(db),fb=i.scry(eb,"._5pat");for(var gb=fb.length-1;gb>=0;gb--){var hb=fb[gb];i.insertAfter(eb,hb);}i.remove(eb);}};e.exports=cb;},null);
__d("TimelineStickyHeaderComposerX",["Arbiter","Bootloader","ComposerXController","CSS","DOMQuery","Event","Parent","Run","TimelineComposerUtilities","TimelineContentLoader","TimelineStickyHeader","Vector","csx","cx","getElementText"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){function v(x){return x&&x.getContext&&m.byClass(x.getContext(),"_2wp");}function w(x){"use strict";this._composerRoot=x;this._tokens=[o.listenToSetEstimatedDate(this._composerRoot,p.capsuleForCurrentSection),o.listenToPublish(this._composerRoot,this._close.bind(this)),g.subscribe('PhotoSnowlift.OPEN',this._close.bind(this)),g.subscribe('TimelineMLE/mleFlyoutShown',function(y,z){if(v(z)===this._composerRoot)i.reset(this._composerRoot);}.bind(this)),g.subscribe('composer/initializedAttachment',function(y,z){if(z.composerRoot===this._composerRoot){this._registerClickToDismiss();if(!z.isInitial)this._closeMLE();}else this._close();}.bind(this)),g.subscribe(q.ADJUST_WIDTH,this._toggleNarrowMode.bind(this))];this._clickCancelToken=o.listenToCancel(this._composerRoot,this._close.bind(this));n.onLeave(function(){while(this._tokens.length)this._tokens.pop().unsubscribe();this._clearClickDismissToken();if(this._clickCancelToken){this._clickCancelToken.remove();this._clickCancelToken=null;}}.bind(this));}w.prototype._toggleNarrowMode=function(event,x){"use strict";h.loadModules(["Tooltip"],function(y){var z=r.getElementDimensions(x).x>400,aa=k.scry(this._composerRoot,"._9lb");j.conditionClass(this._composerRoot,"_2wq",z);for(var ba=0;ba<aa.length;ba++){var ca=aa[ba],da=u(ca);if(z){y.set(ca,da);}else y.remove(ca);}}.bind(this));return false;};w.prototype._registerClickToDismiss=function(){"use strict";var x=j.hasClass(k.find(this._composerRoot,"._yq"),"_519b");if(!x){this._clearClickDismissToken();return;}this._clickDismissToken=l.listen(document.body,'click',function(y){var z=m.byClass(y.getTarget(),"_2wp");if(!z){this._close();this._clearClickDismissToken();}}.bind(this));};w.prototype._clearClickDismissToken=function(){"use strict";if(this._clickDismissToken){this._clickDismissToken.remove();this._clickDismissToken=null;}};w.prototype._close=function(){"use strict";this._clearClickDismissToken();this._closeMLE();i.reset(this._composerRoot);};w.prototype._closeMLE=function(){"use strict";h.loadModules(["TimelineMLE"],function(x){var y=x.getFlyout();if(v(y)===this._composerRoot)x.hideFlyout();}.bind(this));};e.exports=w;},null);
__d("TimelineOGCollectionReportGrid",["CSS","OGCollectionAddObject"],function(a,b,c,d,e,f,g,h){var i={init:function(j,k){h.subscribe([h.NEW_ITEM,h.PLACEHOLDER],i.hideOverflowNodes.bind(null,j,k));},hideOverflowNodes:function(j,k,l,m){if(m.grid!=j)return;for(var n=0;n<j.childNodes.length;n++)g.conditionShow(j.childNodes[n],n<k);}};e.exports=i;},null);
__d("TimelineSpinelessComposer",["Arbiter","Bootloader","ComposerXMarauderLogger","Run","TimelineComposer","TimelineComposerUtilities"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m;function n(){i.logCompleted(m.id);}function o(q){if(q.hidePost){n();return;}if(!q.streamStory){window.location.reload();return;}if(q.backdatedTime){h.loadModules(["TimelineStoryPublisher"],function(r){r.publish(q);});n();return;}k.renderCapsuleBasedStory(m,q.streamStory);n();}var p={init:function(q){m=q;var r=g.subscribe('composer/publish',function(event,s){if(s.composer_id===m.id)o(s);});j.onLeave(r.unsubscribe.bind(r));}};e.exports=p;},null);
__d("TimelineStickyRightColumn",["Arbiter","CSS","DOMQuery","Event","PhotoSnowlift","Run","Style","TimelineContentLoader","Vector","csx","queryThenMutateDOM"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r=100,s=15,t=15,u=35,v="._3rbf",w="._3rbh",x=false,y=null,z=null,aa,ba,ca,da,ea,fa,ga,ha;function ia(){if(k.getInstance().isOpen)return;aa=n.getCurrentSection();if(!aa||!aa.rightColumnFinished)return;var xa=ra(aa),ya=qa(aa);ba=xa?xa.offsetHeight:0;ca=ya?ya.offsetHeight:0;da=o.getViewportDimensions().y;ga=xa?o.getElementPosition(xa).y:0;ha=document.body.clientWidth<document.body.scrollWidth;}function ja(){if(!aa||k.getInstance().isOpen)return;if(z&&z!==aa){var xa=qa(z);if(xa)sa(xa,'','','');}var ya=qa(aa);if(!ya)return;if(ha){sa(ya,'','','');return;}if(aa.rightColumnFinished){ka(aa,ya);z=na(ya)==='fixed'?aa:null;}}function ka(xa,ya){if(ca>=ba||ba<=da)return;fa=ea;ea=o.getScrollPosition().y;var za=ga-ta();if(ea<=za){sa(ya,'','','');return;}var ab=t+u,bb=ba+ga,cb=ea+da-ab,db=ea+ca+ta();if(bb<=Math.min(db,cb)){sa(ya,'absolute','',t+'px');return;}var eb=da-t-ta();if(ca<=eb){sa(ya,'fixed',ta()+'px','');return;}if(ea<fa){la(ya);}else ma(ya);}function la(xa){var ya=false;if(na(xa)==='absolute'){var za=ga+ba-ta(),ab=ea+ta()-ga;if(!!pa(xa)&&ab<=pa(xa)){ya=true;}else if(xa.style.bottom!==''&&ea<=za-ca)ya=true;}if(ya){sa(xa,'fixed',ta()+'px','');return;}if(na(xa)==='absolute'&&!!pa(xa))return;if(oa(xa)){if(pa(xa)>=ta())return;var bb=da-u,cb=ea-ga-(ca-bb);if(fa)cb+=fa-ea;sa(xa,'absolute',cb+'px','');return;}}function ma(xa){var ya,za=false;if(!oa(xa)){ya=pa(xa);var ab=ea+da,bb=ga+ya+ca+u;if(ab>=bb)za=true;}if(!za)if(ea===fa||!oa(xa))return;if(za){ya=da-ca-t-u;sa(xa,'fixed',ya+'px','');return;}if(oa(xa)&&pa(xa)>=ta()){ya=ea-ga+ta();if(fa)ya+=fa-ea;sa(xa,'absolute',ya+'px','');}}function na(xa){switch(xa.style.position){case 'absolute':case 'static':return xa.style.position;default:return h.hasClass(xa,'fixed_always')?'fixed':'static';}}function oa(xa){switch(na(xa)){case 'absolute':case 'static':return false;default:return true;}}function pa(xa){return xa.style.top?parseInt(xa.style.top,10):0;}function qa(xa){return i.scry(xa.node,w)[0];}function ra(xa){return i.scry(xa.node,v)[0];}function sa(xa,ya,za,ab){m.set(xa,'bottom',ab);if(ya==='fixed'){h.addClass(xa,'fixed_always');m.set(xa,'position','');}else{h.removeClass(xa,'fixed_always');m.set(xa,'position',ya);}m.set(xa,'top',za);g.inform('reflow');}function ta(){return h.hasClass(document.documentElement,'tinyViewport')?s:r;}function ua(){q(ia,ja);}function va(){x=false;z=null;while(y.length)y.pop().remove();y=null;}var wa={init:function(){if(!x){x=true;y=[j.listen(window,'scroll',ua),j.listen(window,'resize',ua)];l.onLeave(va);}},adjust:function(){if(x){ia();ja();}}};e.exports=wa;},null);
__d("InfoReviewInstanceManager",["DOM","Event","React","csx"],function(a,b,c,d,e,f,g,h,i,j){var k="._5sf3",l=[],m=[],n={addInstanceRoot:function(o,p){m.push(h.listen(p,'click',function(q){var r=g.scry(p,k)[0];r&&g.remove(r);}));l.push(o);},cleanupInstances:function(){var o=[];while(l.length){var p=l.pop();document.contains(p)?o.push(p):i.unmountComponentAtNode(p);}while(m.length)m.pop().remove();l=o;}};e.exports=n;},null);
__d("InfoReviewCloseButton",["DOM","Event","InfoReviewInstanceManager","Parent","$","tidyEvent"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m='fbTimelineUnit';function n(o,p){"use strict";this.$InfoReviewCloseButton0=o;this.$InfoReviewCloseButton1=p;this.$InfoReviewCloseButton2=h.listen(this.$InfoReviewCloseButton0,'click',this.$InfoReviewCloseButton3.bind(this));l(this.$InfoReviewCloseButton2);}n.prototype.$InfoReviewCloseButton3=function(){"use strict";var o=k(this.$InfoReviewCloseButton1);if(o.parentElement.children.length===1)o=j.byClass(o,m);g.remove(o)&&this.$InfoReviewCloseButton4();i.cleanupInstances();};n.prototype.$InfoReviewCloseButton4=function(){"use strict";this.$InfoReviewCloseButton0=null;this.$InfoReviewCloseButton1=null;this.$InfoReviewCloseButton2&&this.$InfoReviewCloseButton2.remove();this.$InfoReviewCloseButton2=null;};e.exports=n;},null);
__d("OnlyMeUI",["AudienceSelectorTags","Arbiter","CSS","DOM","Parent","PrivacySelectorBase","PrivacyConst","SelectorDeprecated","$","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(){return [j.create('div',{className:'onlyMeBorder'}),j.create('div',{className:'onlyMeBorder onlyMeBorderBottom'})];}function r(){return j.create('img',{alt:' ',className:'onlyMePrivacyCorner',height:34,src:'/images/profile/timeline/privacy_corner.png',width:34});}function s(z){var aa=j.scry(z,'.photoUnit a.photo');return aa.filter(function(ba){return !j.scry(ba,'.onlyMePrivacyCorner').length;});}function t(z,aa){if(aa instanceof l){if(aa.getTags().length>1)return;}else if(g.hasTags(w(aa)))return;if(i.hasClass(z,'storyContent'))if(!k.byClass(z,'onlyMeWrap')){var ba=j.create('div',{className:'onlyMeWrap'});j.appendContent(k.byClass(z,'uiStreamStory'),ba);j.appendContent(ba,z);z=ba;}else z=k.byClass(z,'onlyMeWrap');i.addClass(z,'storyOnlyMe');if(!(aa instanceof l)&&!i.hasClass(z,'timelineRecentActivityStory'))j.setContent(j.find(aa,'span.uiButtonText'),"Only Me");if(!i.hasClass(z,'storyContent')){var ca=s(z);for(var da=0,ea=ca.length;da<ea;++da)j.appendContent(ca[da],r());}if(!j.scry(z,'div.onlyMeBorder').length){var fa=q();j.prependContent(z,fa[0]);j.appendContent(z,fa[1]);}}function u(z){if(!z)return;var aa=k.byClass(z,'storyContent')||k.byClass(z,'timelineRecentActivityStory')||k.byClass(z,'timelineUnitContainer')||k.byClass(z,'fbTimelineTwoColumn');if(!aa){aa=j.scry(z,'^.permalink_stream .storyContent');aa=aa.length&&aa[0];}else if(i.hasClass(aa,'fbTimelineComposerUnit'))return null;return aa;}function v(z){z=i.hasClass(z,'storyContent')?k.byClass(z,'onlyMeWrap'):z;z&&i.removeClass(z,'storyOnlyMe');}function w(z){var aa=j.scry(z,'*[data-oid]');if(aa.length===0)return '';return aa[0].getAttribute('data-oid');}var x=false,y={listenAdamaTimelineSelector:function(z){var aa=z.getInstance();aa.subscribe('changed',function(event,ba){var ca=aa.getTriggerButtonElement(),da=u(ca);if(!da)return;if(ba.post_param==m.PostParam.ONLY_ME){t(da,aa);}else v(da);});},init:function(){if(x)return;x=true;h.subscribe('AudienceSelector/changed',function(z,aa){if(aa.selector&&i.hasClass(aa.selector,'blacklistOnlyMeUI'))return;var ba=u(aa.selector)||u(aa.clone);if(!ba)return;if(n.getOptionValue(aa.option)==m.BaseValue.SELF){t(ba,aa.selector);}else v(ba);});},setOnlyMe:function(z){if(x)return;y.init();z=j.find(k.byClass(o(z),'uiSelector'),'a.uiSelectorButton');var aa=u(z);aa&&t(aa,z);}};e.exports=y;},null);